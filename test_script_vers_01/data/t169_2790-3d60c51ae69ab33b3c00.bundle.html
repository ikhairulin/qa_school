(self.webpackChunk_mail_octavius=self.webpackChunk_mail_octavius||[]).push([[2790],{49751:function(e,a,t){var i,n;i=[t(18440)],void 0===(n=function(e){return e.smartParse(e.__FEAST_TEMPLATE__`<div
  ref="layer-cleanmaster-modal"
>
</div>
`,"./app/ui-block/layer-cleanmaster-modal/layer-cleanmaster-modal.html")}.apply(a,i))||(e.exports=n)},42790:function(e,a,t){"use strict";t.r(a);var i=t(21528),n=t(60033),s=t.n(n),o=t(21211),r=t(18440),l=t.n(r),c=t(49751),d=t.n(c),u=t(73704),m=t(63062),f=function(){return(f=Object.assign||function(e){for(var a,t=1,i=arguments.length;t<i;t++)for(var n in a=arguments[t])if(Object.prototype.hasOwnProperty.call(a,n))e[n]=a[n];return e}).apply(this,arguments)},p=function(e){var a=e.text,t=e.qa;m.default.add({text:a,qa:t,duration:o.SETTINGS_DOCK_CLEANMASTER_NOTIFY_DURATION,inline:!1})},v=function(e){var a=e.text,t=e.qa;m.default.error({text:a,qa:t,duration:o.SETTINGS_DOCK_CLEANMASTER_NOTIFY_DURATION,inline:!1})},h={remove:"@modal/senders/remove",unsubscribe:"@modal/senders/unsubscribe"};a.default=l().Block.extend({name:"layer-cleanmaster-modal",template:d(),blocks:{},_modalPage:null,defaults:{compact:!1,isAvailable:!1},events:{},_isValidAction:function(e){return e in h},didMount:function(){var e=this,a=this.refs["layer-cleanmaster-modal"],t=this.get("ponymode"),n=this.get("action"),o=this.get("from"),r=this.onClose.bind(this);if(this._isValidAction(n))window.require(["cleanmaster"],(function(l){e._modalPage=l.createCleanmasterModal(a,{features:i.default,septima:!1,app:!1,touch:!1,octavius:!0,headerMode:"hidden",isDockSettings:!1,compact:t});var c={"@stat/radar":function(e){var a=e.name,t=e.params,i=e.dwh,n=void 0===i?{}:i;s().send(a,{i:t,v:1,dwh:f(f({},n),{query:!0})})},"@clean/clean/success":function(e){var a=e.senders,t=void 0===a?[]:a;u.Z.deleteSenderFromUnsubscribeList(t.map((function(e){return e.emails})))},"@notify/success":p,"@notify/info":p,"@notify/error":v,"@redux-popup/popup/CLOSE_ALL":r};Object.keys(c).forEach((function(a){e._modalPage.on(a,c[a])})),e._modalPage.create(),e._modalPage.store.dispatch({type:h[n],payload:{sendersEmailList:o}})})),this.set("isAvailable",!0);else this.set("isAvailable",!1)},onClose:function(){var e;if(this.get("isAvailable"))null===(e=this._modalPage)||void 0===e||e.destroy(),this.set("isAvailable",!1),this.broadcast("layer:close")}})}}]);