"use strict";(self.webpackChunk_mail_octavius=self.webpackChunk_mail_octavius||[]).push([[7732],{14553:function(e,t,n){n.r(t),n.d(t,{WidgetColumn:function(){return P}});var i=n(17717),o=n.n(i),r=n(81171),a=n(60033),c=n.n(a),u=n(88255),s=n(28266),d=n.n(s),f=n(21211),l=n(63745),p=n.n(l),v=n(5378),m=n(32707),g=n(73794),w=n(54908),E=n(10476),N=n(40520),T=n(52226),_=n(33722),I=n(52692),O=n(50542),M={border:"_2IRpRccFCfe36ihBTjV1pj",open:"A7oaoZsaW4Ml9vya9dgyt",openerWrapper:"wQFurHTKB81kQgnN-ihyM",opener:"svANd540n043bB5YxteNg",tooltip:"SWo-nlMY709XRe2NeuOEu",list:"NPjmvNXLPZaAN18IQ-FFf",hidden:"_22KK-B2H4WzS9bjAa-gOrr",arrowMoveLeft:"_1eU6iUwcmUHIRm8Mq8d5b9",changeWidth:"_2z6saM85M55dfdQsST3XVt"},A=function(){var e=(0,l.useRef)(null);return(0,l.useEffect)((function(){if(e.current){var t=o().get("octavius-productivity-widget-reminder");if(!(t.state||t.getCount().show>=f.COUNT_REPLAY_ANIMATION)){var n=f.TIMEOUT_FIRST_ANIMATION;if(t.getCount().show>0){var i=1e3*t.getTime(),r=(new Date).getTime();n=i+f.TIMEOUT_NEXT_ANIMATION-r}var a,c=(a=n,(0,I.c)((function(){if(!O.default.isComposeActive())e.current.classList.add(M.arrowMoveLeft),o().get("octavius-productivity-widget-reminder").save({time:!0,hit:!0}),(0,T.K9)()}),a));return function(){c()}}}})),{playAnimationRef:e}},C=n(74838),W=n(82427),h=n(75132),y=n(83260),L=function(e){var t,n,i,o,r=e.widgetType,a=e.widgetIsOpen,c=e.broadcast,s=(0,C.l)(r),d=s[0],f=s[1],p=(0,C.l)(a),v=p[0],m=p[1],g=(t=function(){if(d!==r||v!==a)c((0,w.BU)(u.XL,{value:{widget:d,open:v}}))},n=200,o=(0,W.D)(t),(0,h.G)((function(){return(0,y.debounce)(o,n,i)})).current);(0,l.useEffect)((function(){f(r),m(a)}),[r,a,f,m]);var E=(0,W.D)((function(e){if(d!==e)g(),f(e)})),N=(0,W.D)((function(e){if(v!==e)g(),m(e)}));return{widget:d,setWidget:E,open:v,setOpen:N}},R=n(19308),U=N.j.Text,b=function(){return(0,T.lP)("arrow")},k=function(e){var t,n=e.onClick,i=e.open,o=A().playAnimationRef;return(0,l.useEffect)((function(){if(!i)(0,T.Jk)("arrow");return function(){!function(e){e.current.classList.remove(M.arrowMoveLeft)}(o)}}),[i]),p().createElement("div",{className:d()(M.openerWrapper,(0,g.d)("widget-column"),(t={},t[M.hidden]=i,t)),onClick:n,onMouseOver:b},p().createElement("div",{className:M.opener,ref:o},p().createElement(r.Icon,{icon:m.yk[v.tW.NAVIGATION_ARROW_LIST_PREVIOUS]})),p().createElement("div",{className:M.tooltip},p().createElement(U,{width:3},i18n("Показать панель планирования"))))},D={position:"sidebar"},P=function(){var e,t=(0,E.C)({name:"WidgetColumn",mediators:["layout-manager","todo-manager"]}),n=t[0],i=n.showWidgetColumn,r=n.widgetType,a=n.widgetIsOpen,s=t[1],v=L({broadcast:s,widgetType:r,widgetIsOpen:a}),m=v.widget,g=v.setWidget,N=v.open,I=v.setOpen;(0,l.useEffect)((function(){if(f.HIDE_TOYS===f.BL_PROP_NAME)c().send("wid-c-".concat(m,"-").concat(N?"open":"close"))}),[]),(0,l.useLayoutEffect)((function(){return function(){s((0,w.BU)(u._))}}),[s]);var O=f.WIDGET_COLUMN?i:N;return p().createElement(_.M.Provider,{value:D},p().createElement("div",{className:d()(M.border,(e={},e[M.open]=N,e[M.close]=!N,e[M.hidden]=!O,e))},f.WIDGET_COLUMN&&p().createElement(k,{open:N,onClick:function(){(0,T._i)("arrow",T.GE[m]),I(!0);var e=o().get("octavius-productivity-widget-reminder");if(!(null==e?void 0:e.state))null==e||e.save({state:!0,time:!0})}}),p().createElement(R.y,{open:N,widget:m,setOpen:I,setWidget:g,showList:f.WIDGET_COLUMN})))}}}]);