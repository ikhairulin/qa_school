"use strict";(self.webpackChunk_mail_octavius=self.webpackChunk_mail_octavius||[]).push([[7604],{86898:function(e,t,n){n.d(t,{v:function(){return o},x:function(){return l}});var a=n(23220),r=n(27479),o=(0,a.createGlobalStateSelector)(r.n,(function(e){var t=e.accounts,n=e.email;return n?t.filter((function(e){return e.email!==n})):t})),l=(0,a.createGlobalStateSelector)(r.n,(function(e){var t=e.accounts,n=e.email;return n&&t.find((function(e){return e.email===n}))}))},4278:function(e,t,n){n.d(t,{Z:function(){return z}});var a=n(67377),r=n(81171),o=n(60033),l=n.n(o),c=n(86898),i=n(28266),u=n.n(i),s=n(21211),d=n(79929),m=n(63745),f=n.n(m),E=n(52745),_=n(20799),p=n(82010),O=n(72727),v=n(88695),g=function(e,t){if(void 0===t)t=s.LOGIN_REDIRECT_URL;var n=encodeURIComponent(t||"https://"+window.location.host+"?mv=1");return(0,v.Z)(e,{page:n},!1)},N=n(40520),C=n(30178),h=g(s.LOGOUT_URL,s.LOGOUT_REDIRECT_URL),b=function(e){var t,n,r,o,i=(0,a.useGlobalStateSelector)(c.x),u=(t=null==i?void 0:i.email,n=(0,m.useCallback)((function(){(0,_.YL)()}),[]),r=(0,m.useCallback)((function(){l().sendImmediately("mobile-account-dock_logout"),n(),(0,O.default)(h,O.OpenerTarget.self)}),[n]),o=(0,m.useMemo)((function(){return f().createElement(N.Z,null,(function(e){var a=e.Alert;return f().createElement(a,{"data-qa-id":(0,C.qa)("logout-alert"),actions:[{title:i18n("Отмена"),autoClose:!0,mode:"default"},{title:i18n("Выйти"),autoClose:!1,mode:"destructive",action:r}],actionsLayout:"horizontal",onClose:n,header:t,text:i18n("Выйти из учётной записи?")})}))}),[t,n,r]),(0,m.useCallback)((function(){if(s.DISABLE_MOBILE_ACCOUNT_LOGOUT_ALERT)r();else l().send("mobile-account-dock_logout-alert_open"),(0,_.e1)(o)}),[o,r]));return[{qaId:"profile",url:s.PROFILE_URL,radar:"mobile-account-dock_profile-open",icon:d.UNION_USER_OUTLINE_20,title:i18n("Личные данные"),hide:s.DISABLE_MOBILE_ACCOUNT_PROFILE,target:O.OpenerTarget.blank},{qaId:"security",url:s.SECURITY_URL,radar:"mobile-account-dock_security-open",icon:d.UNION_LOCK_OUTLINE_20,title:i18n("Пароль и безопасность"),hide:s.DISABLE_MOBILE_ACCOUNT_SECURITY,target:O.OpenerTarget.blank},{qaId:"settings",onClick:function(){return(0,_.Ll)({id:p.H.settings,data:e})},radar:"mobile-account-dock_open-settings",icon:d.UNION_GEAR_OUTLINE_20,title:i18n("Настройки")},{qaId:"contacts",url:(0,v.Z)(s.MOBILE_ADDRESSBOOK_URL,{mv:1}),radar:"mobile-account-dock_contacts_click",icon:d.UNION_USER_SQUARE_OUTLINE_20,title:i18n("Контакты"),hide:s.DISABLE_MOBILE_CONTACTS},{qaId:"logout",onClick:u,radar:"mobile-account-dock_logout_click",icon:d.UNION_DOOR_ARROW_RIGHT_OUTLINE_20,title:i18n("Выйти")}]},I=n(50987),k={accountAddIcon:"_3-RLjw3JtqfFYJr5m9Pm2t",childTitle:"_30o2c--oE5lIg-HwovltBI",bottomTextColor:"_1xNzla9vL5cG0ZMEelkEeT",itemLeftMargin:"_2saMDeDIGW4lDDrjpYUQe9"},L=function(){return(L=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r];return e}).apply(this,arguments)},T=N.j.SimpleCell,S=N.j.Avatar,y=N.j.Counter,U=I.Z.get("initialUser"),R=function(e){return(0,v.Z)(s.DEFAULT_AVATAR_SRC,L({email:null==e?void 0:e.email},(null==e?void 0:e.fullName)?{name:e.fullName}:{}))},A=function(){return l().sendImmediately("mobile-account-dock_account-change")},j=function(e){var t,n=e.account,a=e.child,o=e.qaId,l=(null==U?void 0:U.email)===n.email;return f().createElement("a",{"data-qa-id":(0,C.qa)(o),"data-qa-state":(0,C.qa)("active:".concat(l?"true":"false")),key:n.email,href:!l?(t=n.email,g(s.ACCOUNT_CHANGE_URL+t)):"",onClick:A},f().createElement(T,{disabled:l,className:k.accountsItem,before:f().createElement(S,{size:48,src:R(n)},a&&f().createElement(S.Badge,null,f().createElement("div",{className:k.childIcon},f().createElement(r.Icon,{icon:d.UNION_HORSE_TOY_OUTLINE_20})))),after:n.count>0&&!l&&f().createElement(y,{mode:"primary"},f().createElement("span",{className:k.counter},n.count)),subtitle:n.email},f().createElement("span",{className:k.name},n.fullName)))},B=n(74396),P=n(64146),M=function(){return(M=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r];return e}).apply(this,arguments)},D=function(){return l().sendImmediately("mobile-account-dock_account-add_click")},H=N.j.ModalPage,w=N.j.SimpleCell,q=N.j.Separator,G=N.j.Spacing,Z=N.j.Avatar,x=g(s.LOGIN_URL),z=function(e){var t,o,i=b(e.data),_=(o=e.onClose,(0,m.useCallback)((function(){l().send("mobile-account-dock_csat_click"),o(),Promise.all([n.e(3778),n.e(7550)]).then(n.bind(n,97550)).then((function(e){return e.default})).then((function(e){return e.instance})).then((function(e){return e.forceShowSurvey(s.MOBILE_CSAT)})).catch((function(){(0,E.coreLoggerDispatchError)(new Error("Fetch feedback module error"),E.Tag.API)}))}),[o])),p=(0,a.useGlobalStateSelector)(c.v),O=(0,a.useGlobalStateSelector)(c.x);return(0,m.useEffect)((function(){return function(){l().send("mobile-account-dock_close")}}),[]),f().createElement(H,M({},e,{header:f().createElement(P.Z,{onClick:e.onClose}),"data-qa-id":(0,C.qa)("mobile-account-modal")}),f().createElement("div",null,f().createElement(j,{account:O,qaId:"current-account-".concat(O.email)}),f().createElement(G,{size:6}),i.map((function(e,t){return f().createElement(B.Z,M({className:k.itemLeftMargin,key:t},e))}))),!s.DISABLE_MOBILE_ACCOUNT_CHANGE_AND_ADD&&f().createElement(f().Fragment,null,f().createElement(G,{size:16}),(null===(t=null==O?void 0:O.children)||void 0===t?void 0:t.length)>0&&f().createElement("div",null,f().createElement("div",{className:k.childTitle},i18n("Детские почтовые ящики")),O.children.map((function(e){return f().createElement(j,{key:e.email,account:e,qaId:"child-account-"+e.email})}))),f().createElement(G,null),f().createElement(q,null),f().createElement(G,{size:12}),f().createElement("div",null,p.map((function(e){return f().createElement(j,{key:e.email,account:e,qaId:"other-account-"+e.email})})),f().createElement("a",{"data-qa-id":(0,C.qa)("add-account"),href:x,onClick:D},f().createElement(w,{before:f().createElement(Z,{size:48,className:k.accountAddIcon,withBorder:!1},f().createElement(r.Icon,{icon:d.UNION_ADD_20}))},i18n("Добавить аккаунт"))))),(s.ENABLE_OPEN_TOUCH||s.ENABLE_MOBILE_CSAT)&&f().createElement(f().Fragment,null,f().createElement(G,{size:10}),f().createElement(q,null),f().createElement(G,{size:10})),f().createElement(B.Z,{qaId:"return-to-touch",className:u()(k.itemLeftMargin,k.bottomTextColor),url:s.TOUCH_URL,radar:"mobile-account-dock_touch-redirect_click",icon:d.UNION_ARROW_UTURN_LEFT_OUTLINE_20,title:i18n("Перейти в старую версию"),hide:!s.ENABLE_OPEN_TOUCH}),f().createElement(B.Z,{qaId:"csat",className:u()(k.itemLeftMargin,k.bottomTextColor),onClick:_,icon:d.UNION_MESSAGE_OUTLINE_20,title:i18n("Оставить отзыв"),hide:!s.ENABLE_MOBILE_CSAT}),(s.ENABLE_OPEN_TOUCH||s.ENABLE_MOBILE_CSAT)&&f().createElement(G,{size:10}))}},74396:function(e,t,n){n.d(t,{Z:function(){return C}});var a=n(81171),r=n(60033),o=n.n(r),l=n(72727),c=n(28266),i=n.n(c),u=n(79929),s=n(63745),d=n.n(s),m=n(40520),f=n(30178),E="_12xNos0lfvwDAA_KfcCZaV",_="_2ONO5nOPO7CVZJHwAH4kuB",p="_1zcn47aejCMPeCyDV7CjHu",O=function(){return(O=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r];return e}).apply(this,arguments)},v=function(e,t){var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0)n[a]=e[a];if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)if(t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r]))n[a[r]]=e[a[r]]}return n},g=m.j.SimpleCell,N=function(e){var t=e.icon,n=e.title,r=e.onClick,o=e.className,l=e.qaId,c=e.showLinkIcon;return d().createElement(g,{onClick:r,"data-qa-id":(0,f.qa)(l),after:c&&d().createElement("span",{className:p},d().createElement(a.Icon,{icon:u.UNION_ARROW_RIGHT_OUTLINE_20}))},d().createElement("div",{className:i()(E,o)},d().createElement("span",{className:_},d().createElement(a.Icon,{icon:t})),d().createElement("span",null,n)))},C=function(e){var t=e.hide,n=e.url,a=e.radar,r=e.onClick,c=e.qaId,i=e.target,u=v(e,["hide","url","radar","onClick","qaId","target"]),m=(0,s.useCallback)((function(e){if(a)o().sendImmediately(a);if(n)e.preventDefault(),(0,l.default)(n,i||l.OpenerTarget.self);null==r||r()}),[a,r]);if(t)return null;if(!n)return d().createElement(N,O({onClick:m,qaId:c},u));else return d().createElement("a",{href:n,onClick:m,"data-qa-id":(0,f.qa)(c),target:i,rel:"noreferrer"},d().createElement(N,O({},u)))}},64146:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(81171),r=n(79929),o=n(63745),l=n.n(o),c="_2ve7yX_xk8E4tIfjUsqzWI",i="lsNDhqYXKed-lFu-H8CbF",u=function(e){var t=e.onClick;return l().createElement("button",{className:c,onClick:t},l().createElement("span",{className:i},l().createElement(a.Icon,{icon:r.UNION_CHEVRON_DOWN_OUTLINE_28})))}},81726:function(e,t,n){n.d(t,{Z:function(){return T},Q:function(){return L}});var a=n(81171),r=n(60033),o=n.n(r),l=n(20799),c=n(82010),i=n(28266),u=n.n(i),s=n(79929),d=n(63745),m=n.n(d),f=n(40520),E=n(10476),_="UOE6ZRrdb74X1p7Gn_lk1",p="_2bMJjQJo5utYBohRBlhp_Y",O="_3QhY7rD751V5oaYRdM24Gl",v="_3wC60ea0eKog6ki9pgrN4B",g="_2GhbOPn2umkPNc35cdxPNC",N="_2s0cTl-Fcc_Vtw6Gqp1Ddz",C="_1Yi2RdCEMBz2NyVikkbFKG",h="_2dz7Z8pS3GOn5KR_9P5ufj",b="_1DujtHljY-JCgExJgtHQNV",I="_3A_T3g8ADdTEC0Pxn2BvpU",k=f.j.Button,L=i18n("Отписаться от{nbsp}рассылок",{"unsafe-nbsp":" "}),T=function(e){var t,n,r,i=e.ponyMode,d=e.showTitle,f=e.shortOpenedSidebar,T=e.mobile,S=(0,E.C)({name:"sidebar-unsubscribe-button",mediators:["mobile-sidebar-manager","vk-overlay"]}),y=(S[0],S[1]),U=m().useCallback((function(){y(new Event("mobilesidebar:close")),(0,l.Ll)(c.H.cleanmaster),o().send("open-cleanmaster-modal")}),[y]);return m().createElement("div",{className:u()(_,(t={},t[p]=f&&!i&&d,t))},m().createElement(a.Tooltip,{placement:"right",overlay:m().createElement("div",{className:h},m().createElement(a.Text,{mode:"small"},L)),onlyDesktop:!0},m().createElement(k,{onClick:U,mode:"tertiary",size:i?"s":"l",hasHover:!1,hasActive:!1,before:m().createElement("div",{className:u()(O,(n={},n[v]=d&&!i&&!T,n[N]=d&&i&&!T,n[C]=T,n[g]=f&&!i&&d,n))},m().createElement(a.Icon,{icon:s.STATUS_BLOCK,upsidedown:!0})),stretched:!0,align:"left"},d&&m().createElement("div",{className:u()(b,(r={},r[I]=f&&!i,r))},L))))}},67604:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ve}});var a=n(67377),r=n(88564),o=n(63745),l=n.n(o),c=n(40520),i=n(20799),u=n(23220),s=(0,u.createGlobalStateSelector)(r.w,(function(e){var t=e.modalHistory;return t[t.length-1]||null})),d=((0,u.createGlobalStateSelector)(r.w,(function(e){var t=e.modalData,n=e.modalHistory;return t[n[n.length-1]]})),n(82010)),m=n(4278),f=n(38868),E=n(78594),_=n(77159),p=n(48853),O=n(91480),v=n(30178),g="_2OcADvRuKwnEeGQk1gBfLL",N="_6bPGl7j3_N65cKhVRUDtJ",C=function(){return(C=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r];return e}).apply(this,arguments)},h=c.j.ModalPage,b=c.j.RadioGroup,I=c.j.Radio,k=c.j.Button,L=c.j.Group,T=c.j.Title,S=c.j.Text,y=c.j.Div,U=c.j.Spacing,R=i18n("Что делать с письмом, когда вы проводите по нему слева направо?"),A=function(e){var t=(0,_.Ir)(),n=(0,o.useState)(t===p.U.settings?p.U.unread:t),a=n[0],r=n[1],c=(0,f.useModalRootContext)().updateModalHeight,u=(0,o.useMemo)((function(){return{img:(0,O.wD)(a),imgHidpi:(0,O.wD)(a,!0)}}),[a]);(0,o.useEffect)((function(){(0,O.X2)()}),[]);var s=(0,o.useCallback)((function(e){r(e.currentTarget.value)}),[]),d=(0,o.useCallback)((function(){(0,E.y)(a),(0,i.GZ)()}),[a]);return l().createElement(h,C({},e,{"data-qa-id":(0,v.qa)("mobile-fast-actions-modal")}),l().createElement("img",{src:u.img,srcSet:"".concat(u.imgHidpi," 2x"),className:g,onLoad:c}),l().createElement(L,{className:N},l().createElement(y,null,l().createElement(T,null,i18n("Выберите действие")),l().createElement(U,{size:12}),l().createElement(S,null,R)),l().createElement(y,null,l().createElement(b,null,l().createElement(I,{checked:a===p.U.archive,value:p.U.archive,onChange:s},i18n("Отправлять в архив")),l().createElement(I,{checked:a===p.U.unread,value:p.U.unread,onChange:s},i18n("Отмечать прочитанным")),l().createElement(I,{checked:a===p.U.remove,value:p.U.remove,onChange:s},i18n("Удалять")))),l().createElement(y,null,l().createElement(k,{stretched:!0,size:"l",onClick:d,"data-qa-id":(0,v.qa)("fast-action-submit")},i18n("Сохранить")))))},j="pzi2-oMUdKmB0rt-9Cp2i",B=n(47299),P=n(10476),M=n(79670),D=function(){return(D=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r];return e}).apply(this,arguments)},H=c.j.ModalPage,w=c.j.ModalPageHeader,q=c.j.PanelHeaderBack,G=c.j.PanelHeaderButton,Z=function(e){var t=(0,M.U)().ponyMode,n=(0,P.C)({name:"useDarkMode",mediators:["themes-manager"]})[0].darkMode,a=(0,P.C)({name:"useUserLang",mediators:["settings-manager"]})[0].userLang,r=(0,o.useRef)();return l().createElement(H,D({},e,{"data-test-id":(0,v.qa)("lang-page"),header:l().createElement(w,{before:l().createElement(q,{onClick:e.onClose,className:j}),after:l().createElement(G,{getRootRef:r,primary:!0,"data-test-id":(0,v.qa)("submit")},i18n("Сохранить"))},i18n("Язык"))}),l().createElement(B.Z,{saveButtonRef:r,currentLang:a,darkMode:n,ponymode:t,modalMode:!0}))},x=n(86898),z=n(21211),F=n(41860),V=n(37874),K=n(78381),W=n(77661),Y=function(){var e=(0,o.useState)(void 0),t=e[0],n=e[1],a=(0,o.useRef)(),r=(0,o.useRef)(),l=(0,o.useCallback)((function(e){a.current=document.querySelector('[data-folder-link-id="'.concat(e.attributes.id,'"]')),n(e)}),[]),c=(0,o.useCallback)((function(){n(void 0)}),[]);return(0,W.O)(r,(function(e){if(t)e.stopPropagation(),n(void 0)}),!0),{actionsRef:r,letterRef:a,onPress:l,onActionsClick:c,popoverModel:t}},Q=n(64146),J="_2MKo-BN7iw_iLXBkXYtDNR",X=function(){return(X=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r];return e}).apply(this,arguments)},$=function(e){var t=(0,a.useGlobalStateSelector)(x.x),n=Y(),r=n.onPress,o=n.onActionsClick,i=n.popoverModel,u=n.letterRef,s=n.actionsRef;return l().createElement(c.Z,null,(function(n){var a,c,d,m=n.ModalPage,f=n.Headline,E=n.Div,_=n.unstable_Popper;return l().createElement(m,X({},e,{header:l().createElement(Q.Z,{onClick:e.onClose})}),l().createElement(E,null,l().createElement(f,{weight:"1",className:J},null==t?void 0:t.email)),!!i&&l().createElement(_,{getRef:s,forcePortal:!0,targetRef:u,onClick:o},l().createElement(K.Z,{component:F.Z,model:i})),!!e.data&&l().createElement(K.Z,{component:V.Z,useMediator:["letters-actions","folders-actions","user-info","letters-loader","pony-mode","folders-navigation"],onFolderClick:e.onClose,active:null===(a=e.data)||void 0===a?void 0:a.folderActive,models:null===(c=e.data)||void 0===c?void 0:c.models,router:null===(d=e.data)||void 0===d?void 0:d.router,sidebar:!0,"with-clear":!0,"show-unsubscribe-button":z.SHOW_SIDEBAR_UNSUBSCRIBE_BUTTON_MOBILE,onPress:r,"without-press-context-menu":!0,touch:!0}))}))},ee=n(81171),te=n(79929),ne=function(){return(ne=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r];return e}).apply(this,arguments)},ae=function(e){var t=(0,P.C)({name:"mobile-folders-settings-modal",mediators:["folders-actions"]}),n=(t[0],t[1]),a=Y(),r=a.onPress,i=a.onActionsClick,u=a.popoverModel,s=a.letterRef,d=a.actionsRef,m=(0,o.useCallback)((function(){n({type:"add",details:{model:{params:{isSidebar:!0}}}})}),[]);return l().createElement(c.Z,null,(function(t){var n=t.ModalPage,a=t.ModalPageHeader,o=t.PanelHeaderBack,c=t.PanelHeaderButton,f=t.unstable_Popper,E=t.Headline,_=t.Div;return l().createElement(n,ne({},e,{header:l().createElement(a,{before:l().createElement(o,{onClick:e.onClose}),after:l().createElement(c,{onClick:m,primary:!0},z.IS_IOS?i18n("Добавить"):l().createElement(ee.Icon,{icon:te.UNION_ADD_OUTLINE_28}))},i18n("Папки"))}),l().createElement(_,null,l().createElement(E,{level:"2",className:J},i18n("Коснитесь папки для редактирования"))),!!u&&l().createElement(f,{getRef:d,forcePortal:!0,targetRef:s,onClick:i},l().createElement(K.Z,{component:F.Z,model:u})),!!e.data&&l().createElement(K.Z,{component:V.Z,useMediator:["letters-actions","folders-actions","user-info","letters-loader","pony-mode","folders-navigation"],models:e.data.models,router:e.data.router,sidebar:!0,onPress:r,onFolderClick:r,"without-press-context-menu":!0,"counters-off":!0,touch:!0,"read-only":!0,"hide-add-folder":!0}))}))},re=n(74396),oe=n(81242),le="_1tJarqo2z0yu3SVnDUYQF3",ce="_3XnrVLQnI9z8TVAZBthBdq",ie=function(){var e=oe.u[z.USER_LANG];if(!e)return null;else return l().createElement("div",{className:le},l().createElement("div",{className:ce,style:{backgroundImage:'url("'.concat(e.src,'")')}}),l().createElement("span",null,"".concat(i18n("Язык"),": ").concat(e.label)))},ue=n(72727),se=n(81726),de=function(){return(de=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r];return e}).apply(this,arguments)},me=c.j.ModalPage,fe=c.j.ModalPageHeader,Ee=c.j.PanelHeaderBack,_e=c.j.SimpleCell,pe=function(e){var t,n=(t=e.data,[{qaId:"folders",title:i18n("Папки"),hide:!z.USE_NEW_MOBILE_FOLDERS_MODAL,icon:te.UNION_FOLDER_OUTLINE_20,onClick:function(){return(0,i.Ll)({id:d.H.foldersSettings,data:t})}},{qaId:"fast-actions",title:i18n("Быстрые действия"),hide:!z.ENABLE_LETTER_FAST_ACTION_SWIPE,icon:te.UNION_FAVORITE_OUTLINE_20,onClick:function(){return(0,i.Ll)(d.H.letterFastActionSettings)}},{qaId:"cleanmaster",title:se.Q,icon:te.UNION_REMOVE_CIRCLE_OUTLINE_20,radar:"open-cleanmaster-modal",onClick:function(){return(0,i.Ll)(d.H.cleanmaster)},hide:!z.SHOW_UNSUBSCRIBE_BUTTON_MOBILE_SETTINGS},{qaId:"help",title:i18n("Помощь"),icon:te.UNION_MESSAGE_OUTLINE_20,radar:"mobile-open-help",url:z.HELP_URL,showLinkIcon:!0,target:ue.OpenerTarget.blank,hide:z.SETTINGS_DROPDOWN_HIDE_HELP},{qaId:"settings",title:i18n("Все настройки"),icon:te.UNION_GEAR_OUTLINE_20,radar:"mobile-open-settings",url:z.SETTINGS_URL,showLinkIcon:!0,hide:z.SETTINGS_DROPDOWN_HIDE_SETTINGS}]);return(0,o.useEffect)((function(){(0,O.Br)()}),[]),l().createElement(me,de({"data-qa-id":(0,v.qa)("mobile-settings-modal")},e,{header:l().createElement(fe,{before:l().createElement(Ee,{className:j,onClick:e.onClose})},i18n("Настройки"))}),n.map((function(e,t){return l().createElement(re.Z,de({key:t},e))})),l().createElement(_e,{onClick:function(){return(0,i.Ll)(d.H.language)},"data-qa-id":(0,v.qa)("change-language")},l().createElement(ie,null)))},Oe=n(57092),ve=n(60033),ge=n.n(ve),Ne=n(25191),Ce=n(28266),he=n.n(Ce),be="_1dscjPr2WwAexBHa-8AK4a",Ie="bFN6MaXK4_LqbNeSKzQFE",ke="rXvVkxXs8PVVP-_1ifoMY",Le="axNkwiRi1UyOFOrwiZMU5",Te="KuIfJhBQA9lhzAN2KLZsb",Se=function(){return(Se=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r];return e}).apply(this,arguments)},ye=c.j.ModalPage,Ue=c.j.Button,Re=c.j.ButtonGroup,Ae=c.j.Title,je=c.j.Text,Be=function(e){var t,n=e.hasCloseButton,a=e.actions,r=e.modalPageTitle,o=e.text,c=e.children,i=e.mobile,u=a.map((function(e,t){return l().createElement(Ue,{key:t,size:"l",mode:e.mode,appearance:"secondary"===e.mode?"neutral":void 0,onClick:e.handleClick},e.name)}));return l().createElement(ye,Se({},e,{hideCloseButton:!0}),l().createElement("div",{"data-test-id":"modal",className:he()(Ie,(t={},t[ke]=i,t))},n&&l().createElement("div",{className:be,"data-test-id":"cross"},l().createElement(Ue,{"data-test-id":"cross",mode:"tertiary",size:"l",before:l().createElement("div",{style:{display:"flex"}},l().createElement(ee.Icon,{icon:te.ACTIONS_CLOSE_BIG})),onClick:e.onClose})),r&&l().createElement(Ae,{className:Le},r),o&&l().createElement(je,{className:Te},o),c,l().createElement(Re,null,u)))},Pe=function(){return(Pe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r];return e}).apply(this,arguments)},Me=(0,Ne.p)(),De=function(){Me.go("#letters",{folder:"spam"}),(0,i.nC)(),ge().send("SpamWarningAlertTappedGoToSpam")},He=function(e){return l().createElement(Be,Pe({},e,{hasCloseButton:!0,actions:[{name:i18n("Назад"),mode:"primary",handleClick:function(){e.onClose(),ge().send("SpamWarningAlertTappedCancel")}},{name:i18n("Открыть"),mode:"secondary",handleClick:De}],modalPageTitle:i18n("Папка «Спам»"),text:i18n("Сюда попадают вредоносные письма и нежелательные рассылки"),mobile:e.mobile}))},we=function(){return(we=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r];return e}).apply(this,arguments)},qe=c.j.ModalRoot,Ge=c.j.ConfigProvider,Ze=c.j.WebviewType,xe=function(e){try{window.__DEBUG_VKUI_MODAL=e}catch(e){}},ze="_1CmMArJgps9vtBvocm1bc0",Fe=c.j.SplitLayout,Ve=function(){var e=(0,a.useGlobalState)(r.w)[0],t=e.snackbar,n=e.popout,o=function(){var e=(0,a.useGlobalState)(r.w)[0],t=e.modalData,n=e.modalHistory,o=(0,a.useGlobalStateSelector)(s),c=(0,P.C)({name:"vkui-overlay-modals",mediators:["layout-manager"]})[0].mobile,u=function(e){return{id:e,dynamicContentHeight:!0,onOpen:function(){xe("opening")},onOpened:function(){xe("opened")},onClose:function(){(0,i.eY)(),xe("closing")},onClosed:function(){if(!n.includes(e))(0,i.dr)(e);xe("closed")},data:t[e]}};return l().createElement(Ge,{webviewType:Ze.INTERNAL},l().createElement(qe,{activeModal:o,onClose:i.GZ},l().createElement(m.Z,we({},u(d.H.account))),l().createElement(A,we({},u(d.H.letterFastActionSettings))),l().createElement($,we({},u(d.H.folders))),l().createElement(ae,we({},u(d.H.foldersSettings))),l().createElement(Oe.c,we({},u(d.H.cleanmaster),{size:"l",mobile:c})),l().createElement(pe,we({},u(d.H.settings),{settlingHeight:100})),l().createElement(Z,we({},u(d.H.language),{settlingHeight:100})),l().createElement(He,we({},u(d.H.spamWarningAlert),{mobile:c}))))}();return l().createElement("div",{className:ze},l().createElement(Fe,{popout:n,modal:o}),t)}},77661:function(e,t,n){n.d(t,{O:function(){return r}});var a=n(63745),r=function(e,t,n){!function(e,t,n,r){var o=(0,a.useRef)(n);o.current=n,(0,a.useEffect)((function(){if(e&&e.addEventListener){var n=function(e){return o.current(e)};return e.addEventListener(t,n,r),function(){e.removeEventListener(t,n,r)}}}),[t,e,r])}(window,"click",(function(a){if(e){var r;if(!Array.isArray(e))r=[e];else r=e;if(r.every((function(e){return e.current&&!e.current.contains(a.target)}))){if(n)a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault();t(a)}}}),{capture:!0})}}}]);