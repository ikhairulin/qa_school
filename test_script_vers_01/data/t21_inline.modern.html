!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},i=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,u={f:a&&!s.call({1:2},1)?function(t){var e=a(this,t);return!!e&&e.enumerable}:s},c=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},l={}.toString,f=function(t){return l.call(t).slice(8,-1)},h="".split,d=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==f(t)?h.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},g=function(t){return d(p(t))},v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=function(t,e){if(!v(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!v(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,_=function(t,e){return m.call(t,e)},w=r.document,b=v(w)&&v(w.createElement),C=function(t){return b?w.createElement(t):{}},S=!i&&!o((function(){return 7!=Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a})),A=Object.getOwnPropertyDescriptor,E={f:i?A:function(t,e){if(t=g(t),e=y(e,!0),S)try{return A(t,e)}catch(t){}if(_(t,e))return c(!u.f.call(t,e),t[e])}},O=function(t){if(!v(t))throw TypeError(String(t)+" is not an object");return t},x=Object.defineProperty,I={f:i?x:function(t,e,n){if(O(t),e=y(e,!0),O(n),S)try{return x(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},T=i?function(t,e,n){return I.f(t,e,c(1,n))}:function(t,e,n){return t[e]=n,t},k=function(t,e){try{T(r,t,e)}catch(n){r[t]=e}return e},R="__core-js_shared__",P=r[R]||k(R,{}),j=Function.toString;"function"!=typeof P.inspectSource&&(P.inspectSource=function(t){return j.call(t)});var U,L,M,D=P.inspectSource,N=r.WeakMap,F="function"==typeof N&&/native code/.test(D(N)),$=e((function(t){(t.exports=function(t,e){return P[t]||(P[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),G=0,V=Math.random(),B=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++G+V).toString(36)},K=$("keys"),Q=function(t){return K[t]||(K[t]=B(t))},H={},z=r.WeakMap;if(F){var W=P.state||(P.state=new z),q=W.get,Y=W.has,J=W.set;U=function(t,e){return e.facade=t,J.call(W,t,e),e},L=function(t){return q.call(W,t)||{}},M=function(t){return Y.call(W,t)}}else{var X=Q("state");H[X]=!0,U=function(t,e){return e.facade=t,T(t,X,e),e},L=function(t){return _(t,X)?t[X]:{}},M=function(t){return _(t,X)}}var Z,tt,et={set:U,get:L,has:M,enforce:function(t){return M(t)?L(t):U(t,{})},getterFor:function(t){return function(e){var n;if(!v(e)||(n=L(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},nt=e((function(t){var e=et.get,n=et.enforce,o=String(String).split("String");(t.exports=function(t,e,i,s){var a,u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,l=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof e||_(i,"name")||T(i,"name",e),(a=n(i)).source||(a.source=o.join("string"==typeof e?e:""))),t!==r?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=i:T(t,e,i)):c?t[e]=i:k(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||D(this)}))})),rt=r,ot=function(t){return"function"==typeof t?t:void 0},it=function(t,e){return arguments.length<2?ot(rt[t])||ot(r[t]):rt[t]&&rt[t][e]||r[t]&&r[t][e]},st=Math.ceil,at=Math.floor,ut=function(t){return isNaN(t=+t)?0:(t>0?at:st)(t)},ct=Math.min,lt=function(t){return t>0?ct(ut(t),9007199254740991):0},ft=Math.max,ht=Math.min,dt=function(t,e){var n=ut(t);return n<0?ft(n+e,0):ht(n,e)},pt=function(t){return function(e,n,r){var o,i=g(e),s=lt(i.length),a=dt(r,s);if(t&&n!=n){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},gt={includes:pt(!0),indexOf:pt(!1)},vt=gt.indexOf,yt=function(t,e){var n,r=g(t),o=0,i=[];for(n in r)!_(H,n)&&_(r,n)&&i.push(n);for(;e.length>o;)_(r,n=e[o++])&&(~vt(i,n)||i.push(n));return i},mt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_t=mt.concat("length","prototype"),wt={f:Object.getOwnPropertyNames||function(t){return yt(t,_t)}},bt={f:Object.getOwnPropertySymbols},Ct=it("Reflect","ownKeys")||function(t){var e=wt.f(O(t)),n=bt.f;return n?e.concat(n(t)):e},St=function(t,e){for(var n=Ct(e),r=I.f,o=E.f,i=0;i<n.length;i++){var s=n[i];_(t,s)||r(t,s,o(e,s))}},At=/#|\.prototype\./,Et=function(t,e){var n=xt[Ot(t)];return n==Tt||n!=It&&("function"==typeof e?o(e):!!e)},Ot=Et.normalize=function(t){return String(t).replace(At,".").toLowerCase()},xt=Et.data={},It=Et.NATIVE="N",Tt=Et.POLYFILL="P",kt=Et,Rt=E.f,Pt=function(t,e){var n,o,i,s,a,u=t.target,c=t.global,l=t.stat;if(n=c?r:l?r[u]||k(u,{}):(r[u]||{}).prototype)for(o in e){if(s=e[o],i=t.noTargetGet?(a=Rt(n,o))&&a.value:n[o],!kt(c?o:u+(l?".":"#")+o,t.forced)&&void 0!==i){if(typeof s==typeof i)continue;St(s,i)}(t.sham||i&&i.sham)&&T(s,"sham",!0),nt(n,o,s,t)}},jt=r.Promise,Ut=function(t,e,n){for(var r in e)nt(t,r,e[r],n);return t},Lt="process"==f(r.process),Mt=it("navigator","userAgent")||"",Dt=r.process,Nt=Dt&&Dt.versions,Ft=Nt&&Nt.v8;Ft?tt=(Z=Ft.split("."))[0]+Z[1]:Mt&&(!(Z=Mt.match(/Edge\/(\d+)/))||Z[1]>=74)&&(Z=Mt.match(/Chrome\/(\d+)/))&&(tt=Z[1]);var $t=tt&&+tt,Gt=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(Lt?38===$t:$t>37&&$t<41)})),Vt=Gt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Bt=$("wks"),Kt=r.Symbol,Qt=Vt?Kt:Kt&&Kt.withoutSetter||B,Ht=function(t){return _(Bt,t)&&(Gt||"string"==typeof Bt[t])||(Gt&&_(Kt,t)?Bt[t]=Kt[t]:Bt[t]=Qt("Symbol."+t)),Bt[t]},zt=I.f,Wt=Ht("toStringTag"),qt=function(t,e,n){t&&!_(t=n?t:t.prototype,Wt)&&zt(t,Wt,{configurable:!0,value:e})},Yt=Ht("species"),Jt=function(t){var e=it(t),n=I.f;i&&e&&!e[Yt]&&n(e,Yt,{configurable:!0,get:function(){return this}})},Xt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Zt=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},te={},ee=Ht("iterator"),ne=Array.prototype,re=function(t){return void 0!==t&&(te.Array===t||ne[ee]===t)},oe=function(t,e,n){if(Xt(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},ie={};ie[Ht("toStringTag")]="z";var se="[object z]"===String(ie),ae=Ht("toStringTag"),ue="Arguments"==f(function(){return arguments}()),ce=se?f:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ae))?n:ue?f(e):"Object"==(r=f(e))&&"function"==typeof e.callee?"Arguments":r},le=Ht("iterator"),fe=function(t){if(null!=t)return t[le]||t["@@iterator"]||te[ce(t)]},he=function(t){var e=t.return;if(void 0!==e)return O(e.call(t)).value},de=function(t,e){this.stopped=t,this.result=e},pe=function(t,e,n){var r,o,i,s,a,u,c,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),p=oe(e,l,1+f+d),g=function(t){return r&&he(r),new de(!0,t)},v=function(t){return f?(O(t),d?p(t[0],t[1],g):p(t[0],t[1])):d?p(t,g):p(t)};if(h)r=t;else{if("function"!=typeof(o=fe(t)))throw TypeError("Target is not iterable");if(re(o)){for(i=0,s=lt(t.length);s>i;i++)if((a=v(t[i]))&&a instanceof de)return a;return new de(!1)}r=o.call(t)}for(u=r.next;!(c=u.call(r)).done;){try{a=v(c.value)}catch(t){throw he(r),t}if("object"==typeof a&&a&&a instanceof de)return a}return new de(!1)},ge=Ht("iterator"),ve=!1;try{var ye=0,me={next:function(){return{done:!!ye++}},return:function(){ve=!0}};me[ge]=function(){return this},Array.from(me,(function(){throw 2}))}catch(t){}var _e,we,be,Ce=function(t,e){if(!e&&!ve)return!1;var n=!1;try{var r={};r[ge]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Se=Ht("species"),Ae=function(t,e){var n,r=O(t).constructor;return void 0===r||null==(n=O(r)[Se])?e:Xt(n)},Ee=it("document","documentElement"),Oe=/(iphone|ipod|ipad).*applewebkit/i.test(Mt),xe=r.location,Ie=r.setImmediate,Te=r.clearImmediate,ke=r.process,Re=r.MessageChannel,Pe=r.Dispatch,je=0,Ue={},Le="onreadystatechange",Me=function(t){if(Ue.hasOwnProperty(t)){var e=Ue[t];delete Ue[t],e()}},De=function(t){return function(){Me(t)}},Ne=function(t){Me(t.data)},Fe=function(t){r.postMessage(t+"",xe.protocol+"//"+xe.host)};Ie&&Te||(Ie=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Ue[++je]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},_e(je),je},Te=function(t){delete Ue[t]},Lt?_e=function(t){ke.nextTick(De(t))}:Pe&&Pe.now?_e=function(t){Pe.now(De(t))}:Re&&!Oe?(be=(we=new Re).port2,we.port1.onmessage=Ne,_e=oe(be.postMessage,be,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&xe&&"file:"!==xe.protocol&&!o(Fe)?(_e=Fe,r.addEventListener("message",Ne,!1)):_e=Le in C("script")?function(t){Ee.appendChild(C("script"))[Le]=function(){Ee.removeChild(this),Me(t)}}:function(t){setTimeout(De(t),0)});var $e,Ge,Ve,Be,Ke,Qe,He,ze,We={set:Ie,clear:Te},qe=/web0s(?!.*chrome)/i.test(Mt),Ye=E.f,Je=We.set,Xe=r.MutationObserver||r.WebKitMutationObserver,Ze=r.document,tn=r.process,en=r.Promise,nn=Ye(r,"queueMicrotask"),rn=nn&&nn.value;rn||($e=function(){var t,e;for(Lt&&(t=tn.domain)&&t.exit();Ge;){e=Ge.fn,Ge=Ge.next;try{e()}catch(t){throw Ge?Be():Ve=void 0,t}}Ve=void 0,t&&t.enter()},Oe||Lt||qe||!Xe||!Ze?en&&en.resolve?(He=en.resolve(void 0),ze=He.then,Be=function(){ze.call(He,$e)}):Be=Lt?function(){tn.nextTick($e)}:function(){Je.call(r,$e)}:(Ke=!0,Qe=Ze.createTextNode(""),new Xe($e).observe(Qe,{characterData:!0}),Be=function(){Qe.data=Ke=!Ke}));var on,sn,an,un,cn=rn||function(t){var e={fn:t,next:void 0};Ve&&(Ve.next=e),Ge||(Ge=e,Be()),Ve=e},ln=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Xt(e),this.reject=Xt(n)},fn={f:function(t){return new ln(t)}},hn=function(t,e){if(O(t),v(e)&&e.constructor===t)return e;var n=fn.f(t);return(0,n.resolve)(e),n.promise},dn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},pn=We.set,gn=Ht("species"),vn="Promise",yn=et.get,mn=et.set,_n=et.getterFor(vn),wn=jt,bn=r.TypeError,Cn=r.document,Sn=r.process,An=it("fetch"),En=fn.f,On=En,xn=!!(Cn&&Cn.createEvent&&r.dispatchEvent),In="function"==typeof PromiseRejectionEvent,Tn="unhandledrejection",kn=kt(vn,(function(){if(!(D(wn)!==String(wn))){if(66===$t)return!0;if(!Lt&&!In)return!0}if($t>=51&&/native code/.test(wn))return!1;var t=wn.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[gn]=e,!(t.then((function(){}))instanceof e)})),Rn=kn||!Ce((function(t){wn.all(t).catch((function(){}))})),Pn=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},jn=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;cn((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var s,a,u,c=n[i++],l=o?c.ok:c.fail,f=c.resolve,h=c.reject,d=c.domain;try{l?(o||(2===t.rejection&&Dn(t),t.rejection=1),!0===l?s=r:(d&&d.enter(),s=l(r),d&&(d.exit(),u=!0)),s===c.promise?h(bn("Promise-chain cycle")):(a=Pn(s))?a.call(s,f,h):f(s)):h(r)}catch(t){d&&!u&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Ln(t)}))}},Un=function(t,e,n){var o,i;xn?((o=Cn.createEvent("Event")).promise=e,o.reason=n,o.initEvent(t,!1,!0),r.dispatchEvent(o)):o={promise:e,reason:n},!In&&(i=r["on"+t])?i(o):t===Tn&&function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Ln=function(t){pn.call(r,(function(){var e,n=t.facade,r=t.value;if(Mn(t)&&(e=dn((function(){Lt?Sn.emit("unhandledRejection",r,n):Un(Tn,n,r)})),t.rejection=Lt||Mn(t)?2:1,e.error))throw e.value}))},Mn=function(t){return 1!==t.rejection&&!t.parent},Dn=function(t){pn.call(r,(function(){var e=t.facade;Lt?Sn.emit("rejectionHandled",e):Un("rejectionhandled",e,t.value)}))},Nn=function(t,e,n){return function(r){t(e,r,n)}},Fn=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,jn(t,!0))},$n=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw bn("Promise can't be resolved itself");var r=Pn(e);r?cn((function(){var n={done:!1};try{r.call(e,Nn($n,n,t),Nn(Fn,n,t))}catch(e){Fn(n,e,t)}})):(t.value=e,t.state=1,jn(t,!1))}catch(e){Fn({done:!1},e,t)}}};kn&&(wn=function(t){Zt(this,wn,vn),Xt(t),on.call(this);var e=yn(this);try{t(Nn($n,e),Nn(Fn,e))}catch(t){Fn(e,t)}},(on=function(t){mn(this,{type:vn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Ut(wn.prototype,{then:function(t,e){var n=_n(this),r=En(Ae(this,wn));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Lt?Sn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&jn(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),sn=function(){var t=new on,e=yn(t);this.promise=t,this.resolve=Nn($n,e),this.reject=Nn(Fn,e)},fn.f=En=function(t){return t===wn||t===an?new sn(t):On(t)},"function"==typeof jt&&(un=jt.prototype.then,nt(jt.prototype,"then",(function(t,e){var n=this;return new wn((function(t,e){un.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof An&&Pt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return hn(wn,An.apply(r,arguments))}}))),Pt({global:!0,wrap:!0,forced:kn},{Promise:wn}),qt(wn,vn,!1),Jt(vn),an=it(vn),Pt({target:vn,stat:!0,forced:kn},{reject:function(t){var e=En(this);return e.reject.call(void 0,t),e.promise}}),Pt({target:vn,stat:!0,forced:kn},{resolve:function(t){return hn(this,t)}}),Pt({target:vn,stat:!0,forced:Rn},{all:function(t){var e=this,n=En(e),r=n.resolve,o=n.reject,i=dn((function(){var n=Xt(e.resolve),i=[],s=0,a=1;pe(t,(function(t){var u=s++,c=!1;i.push(void 0),a++,n.call(e,t).then((function(t){c||(c=!0,i[u]=t,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=En(e),r=n.reject,o=dn((function(){var o=Xt(e.resolve);pe(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var Gn,Vn=Object.keys||function(t){return yt(t,mt)},Bn=i?Object.defineProperties:function(t,e){O(t);for(var n,r=Vn(e),o=r.length,i=0;o>i;)I.f(t,n=r[i++],e[n]);return t},Kn="prototype",Qn="script",Hn=Q("IE_PROTO"),zn=function(){},Wn=function(t){return"<"+Qn+">"+t+"</"+Qn+">"},qn=function(){try{Gn=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e,n;qn=Gn?function(t){t.write(Wn("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Gn):(e=C("iframe"),n="java"+Qn+":",e.style.display="none",Ee.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Wn("document.F=Object")),t.close(),t.F);for(var r=mt.length;r--;)delete qn[Kn][mt[r]];return qn()};H[Hn]=!0;var Yn=Object.create||function(t,e){var n;return null!==t?(zn[Kn]=O(t),n=new zn,zn[Kn]=null,n[Hn]=t):n=qn(),void 0===e?n:Bn(n,e)},Jn=Ht("unscopables"),Xn=Array.prototype;null==Xn[Jn]&&I.f(Xn,Jn,{configurable:!0,value:Yn(null)});var Zn=function(t){Xn[Jn][t]=!0},tr=gt.includes;Pt({target:"Array",proto:!0},{includes:function(t){return tr(this,t,arguments.length>1?arguments[1]:void 0)}}),Zn("includes");var er,nr=!!jt&&o((function(){jt.prototype.finally.call({then:function(){}},(function(){}))}));Pt({target:"Promise",proto:!0,real:!0,forced:nr},{finally:function(t){var e=Ae(this,it("Promise")),n="function"==typeof t;return this.then(n?function(n){return hn(e,t()).then((function(){return n}))}:t,n?function(n){return hn(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof jt||jt.prototype.finally||nt(jt.prototype,"finally",it("Promise").prototype.finally),"function"!=typeof Promise.prototype.finally&&(Promise.prototype.finally=function(t){return this.then((e=>this.constructor.resolve(t()).then((()=>e)))).catch((e=>this.constructor.resolve(t()).then((()=>{throw e}))))}),window.__knownBlocker=!!function(){try{const t=["OPR","n !im","sByTa","1003447LuLqWg","dow","sibil","ing","Opera","style","565qdizXE","getEl","232331sDoJoU","18LCDgxI","cssTe","8949RXqNfR","s: 43","play:","porta","nt; o","tInto","Conte","mport","1gfBELn","ock","getOw","textC","toStr","ntWin","ement","sheet","ortan","injec","lengt","hidde","ant; ","nProp","ptor","dbl","type","89029nRIyjx","ertyD","index","get","1153xndIzo","349hFSaxZ","3toLzmo"," none","gName","conte","proto","1DNflRb","1153390UmUDUA","8264wGiSvY"];function e(e,n){return t[e-=493]}return function(t,n){const r=e;for(;;)try{if(700794===-parseInt(r(504))*parseInt(r(505))+parseInt(r(497))*-parseInt(r(516))+parseInt(r(510))*-parseInt(r(529))+parseInt(r(518))*parseInt(r(499))+parseInt(r(521))*-parseInt(r(519))+parseInt(r(493))+parseInt(r(506))*parseInt(r(498)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(t),function(){const t=e,n="a"+t(544)+t(530),r=Object[t(531)+t(542)+t(494)+"escri"+t(543)](HTMLIFrameElement[t(503)+t(545)],t(502)+t(534)+"dow");if(r&&r[t(496)]){if(-1!==r[t(496)][t(533)+t(513)]()[t(495)+"Of"](t(538)+t(526)+t(527)+t(534)+t(511)))return n}const o=navigator.userAgent;if(-1!==o[t(495)+"Of"](t(514))||-1!==o[t(495)+"Of"](t(507))){const e=document[t(517)+t(535)+t(509)+t(501)]("head")[0];if(e){const r=e[t(517)+"ement"+t(509)+t(501)](t(515));for(let e=0,o=r[t(539)+"h"];e<o;e++)try{const o=r[e];if(o&&!o[t(532)+"ontent"]&&o[t(536)]){const e=o.sheet.rules;if(e)for(let r=0,o=e.length;r<o;r++)try{if(-1!==e[r][t(520)+"xt"].indexOf("{ dis"+t(523)+t(500)+" !imp"+t(537)+"t; vi"+t(512)+"ity: "+t(540)+t(508)+t(524)+t(525)+"rphan"+t(522)+"21 !i"+t(528)+t(541)+"}"))return n}catch(t){}}}catch(t){}}}}()}catch(n){}}(),function(t){t.Default="default",t.Grey="grey",t.Dark="dark",t.System="system"}(er||(er={}));const rr="ru_RU",or=864e5,ir=(t,e)=>{const n=(null==t?void 0:t.config)||(null==t?void 0:t.Config);return null==n?void 0:n[e]};var sr,ar,ur,cr=function(t){return Object(p(t))},lr=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),fr=Q("IE_PROTO"),hr=Object.prototype,dr=lr?Object.getPrototypeOf:function(t){return t=cr(t),_(t,fr)?t[fr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?hr:null},pr=Ht("iterator"),gr=!1;[].keys&&("next"in(ur=[].keys())?(ar=dr(dr(ur)))!==Object.prototype&&(sr=ar):gr=!0);var vr=null==sr||o((function(){var t={};return sr[pr].call(t)!==t}));vr&&(sr={}),_(sr,pr)||T(sr,pr,(function(){return this}));var yr={IteratorPrototype:sr,BUGGY_SAFARI_ITERATORS:gr},mr=yr.IteratorPrototype,_r=function(){return this},wr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return O(n),function(t){if(!v(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),br=yr.IteratorPrototype,Cr=yr.BUGGY_SAFARI_ITERATORS,Sr=Ht("iterator"),Ar="keys",Er="values",Or="entries",xr=function(){return this},Ir="Array Iterator",Tr=et.set,kr=et.getterFor(Ir),Rr=function(t,e,n,r,o,i,s){!function(t,e,n){var r=e+" Iterator";t.prototype=Yn(mr,{next:c(1,n)}),qt(t,r,!1),te[r]=_r}(n,e,r);var a,u,l,f=function(t){if(t===o&&v)return v;if(!Cr&&t in p)return p[t];switch(t){case Ar:case Er:case Or:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,p=t.prototype,g=p[Sr]||p["@@iterator"]||o&&p[o],v=!Cr&&g||f(o),y="Array"==e&&p.entries||g;if(y&&(a=dr(y.call(new t)),br!==Object.prototype&&a.next&&(dr(a)!==br&&(wr?wr(a,br):"function"!=typeof a[Sr]&&T(a,Sr,xr)),qt(a,h,!0))),o==Er&&g&&g.name!==Er&&(d=!0,v=function(){return g.call(this)}),p[Sr]!==v&&T(p,Sr,v),te[e]=v,o)if(u={values:f(Er),keys:i?v:f(Ar),entries:f(Or)},s)for(l in u)(Cr||d||!(l in p))&&nt(p,l,u[l]);else Pt({target:e,proto:!0,forced:Cr||d},u);return u}(Array,"Array",(function(t,e){Tr(this,{type:Ir,target:g(t),index:0,kind:e})}),(function(){var t=kr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");te.Arguments=te.Array,Zn("keys"),Zn("values"),Zn("entries");var Pr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},jr=Ht("iterator"),Ur=Ht("toStringTag"),Lr=Rr.values;for(var Mr in Pr){var Dr=r[Mr],Nr=Dr&&Dr.prototype;if(Nr){if(Nr[jr]!==Lr)try{T(Nr,jr,Lr)}catch(t){Nr[jr]=Lr}if(Nr[Ur]||T(Nr,Ur,Mr),Pr[Mr])for(var Fr in Rr)if(Nr[Fr]!==Rr[Fr])try{T(Nr,Fr,Rr[Fr])}catch(t){Nr[Fr]=Rr[Fr]}}}var $r,Gr="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Vr=I.f,Br=r.Int8Array,Kr=Br&&Br.prototype,Qr=r.Uint8ClampedArray,Hr=Qr&&Qr.prototype,zr=Br&&dr(Br),Wr=Kr&&dr(Kr),qr=Object.prototype,Yr=qr.isPrototypeOf,Jr=Ht("toStringTag"),Xr=B("TYPED_ARRAY_TAG"),Zr=Gr&&!!wr&&"Opera"!==ce(r.opera),to=!1,eo={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},no={BigInt64Array:8,BigUint64Array:8},ro=function(t){if(!v(t))return!1;var e=ce(t);return _(eo,e)||_(no,e)};for($r in eo)r[$r]||(Zr=!1);if((!Zr||"function"!=typeof zr||zr===Function.prototype)&&(zr=function(){throw TypeError("Incorrect invocation")},Zr))for($r in eo)r[$r]&&wr(r[$r],zr);if((!Zr||!Wr||Wr===qr)&&(Wr=zr.prototype,Zr))for($r in eo)r[$r]&&wr(r[$r].prototype,Wr);if(Zr&&dr(Hr)!==Wr&&wr(Hr,Wr),i&&!_(Wr,Jr))for($r in to=!0,Vr(Wr,Jr,{get:function(){return v(this)?this[Xr]:void 0}}),eo)r[$r]&&T(r[$r],Xr,$r);var oo={NATIVE_ARRAY_BUFFER_VIEWS:Zr,TYPED_ARRAY_TAG:to&&Xr,aTypedArray:function(t){if(ro(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(wr){if(Yr.call(zr,t))return t}else for(var e in eo)if(_(eo,$r)){var n=r[e];if(n&&(t===n||Yr.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(i){if(n)for(var o in eo){var s=r[o];s&&_(s.prototype,t)&&delete s.prototype[t]}Wr[t]&&!n||nt(Wr,t,n?e:Zr&&Kr[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var o,s;if(i){if(wr){if(n)for(o in eo)(s=r[o])&&_(s,t)&&delete s[t];if(zr[t]&&!n)return;try{return nt(zr,t,n?e:Zr&&Br[t]||e)}catch(t){}}for(o in eo)!(s=r[o])||s[t]&&!n||nt(s,t,e)}},isView:function(t){if(!v(t))return!1;var e=ce(t);return"DataView"===e||_(eo,e)||_(no,e)},isTypedArray:ro,TypedArray:zr,TypedArrayPrototype:Wr},io=oo.NATIVE_ARRAY_BUFFER_VIEWS,so=r.ArrayBuffer,ao=r.Int8Array,uo=!io||!o((function(){ao(1)}))||!o((function(){new ao(-1)}))||!Ce((function(t){new ao,new ao(null),new ao(1.5),new ao(t)}),!0)||o((function(){return 1!==new ao(new so(2),1,void 0).length})),co=function(t){if(void 0===t)return 0;var e=ut(t),n=lt(e);if(e!==n)throw RangeError("Wrong length or index");return n},lo=Math.abs,fo=Math.pow,ho=Math.floor,po=Math.log,go=Math.LN2,vo=function(t,e,n){var r,o,i,s=new Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,l=23===e?fo(2,-24)-fo(2,-77):0,f=t<0||0===t&&1/t<0?1:0,h=0;for((t=lo(t))!=t||t===1/0?(o=t!=t?1:0,r=u):(r=ho(po(t)/go),t*(i=fo(2,-r))<1&&(r--,i*=2),(t+=r+c>=1?l/i:l*fo(2,1-c))*i>=2&&(r++,i/=2),r+c>=u?(o=0,r=u):r+c>=1?(o=(t*i-1)*fo(2,e),r+=c):(o=t*fo(2,c-1)*fo(2,e),r=0));e>=8;s[h++]=255&o,o/=256,e-=8);for(r=r<<e|o,a+=e;a>0;s[h++]=255&r,r/=256,a-=8);return s[--h]|=128*f,s},yo=function(t,e){var n,r=t.length,o=8*r-e-1,i=(1<<o)-1,s=i>>1,a=o-7,u=r-1,c=t[u--],l=127&c;for(c>>=7;a>0;l=256*l+t[u],u--,a-=8);for(n=l&(1<<-a)-1,l>>=-a,a+=e;a>0;n=256*n+t[u],u--,a-=8);if(0===l)l=1-s;else{if(l===i)return n?NaN:c?-1/0:1/0;n+=fo(2,e),l-=s}return(c?-1:1)*n*fo(2,l-e)},mo=function(t){for(var e=cr(this),n=lt(e.length),r=arguments.length,o=dt(r>1?arguments[1]:void 0,n),i=r>2?arguments[2]:void 0,s=void 0===i?n:dt(i,n);s>o;)e[o++]=t;return e},_o=wt.f,wo=I.f,bo=et.get,Co=et.set,So="ArrayBuffer",Ao="DataView",Eo="prototype",Oo="Wrong index",xo=r[So],Io=xo,To=r[Ao],ko=To&&To[Eo],Ro=Object.prototype,Po=r.RangeError,jo=vo,Uo=yo,Lo=function(t){return[255&t]},Mo=function(t){return[255&t,t>>8&255]},Do=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},No=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Fo=function(t){return jo(t,23,4)},$o=function(t){return jo(t,52,8)},Go=function(t,e){wo(t[Eo],e,{get:function(){return bo(this)[e]}})},Vo=function(t,e,n,r){var o=co(n),i=bo(t);if(o+e>i.byteLength)throw Po(Oo);var s=bo(i.buffer).bytes,a=o+i.byteOffset,u=s.slice(a,a+e);return r?u:u.reverse()},Bo=function(t,e,n,r,o,i){var s=co(n),a=bo(t);if(s+e>a.byteLength)throw Po(Oo);for(var u=bo(a.buffer).bytes,c=s+a.byteOffset,l=r(+o),f=0;f<e;f++)u[c+f]=l[i?f:e-f-1]};if(Gr){if(!o((function(){xo(1)}))||!o((function(){new xo(-1)}))||o((function(){return new xo,new xo(1.5),new xo(NaN),xo.name!=So}))){for(var Ko,Qo=(Io=function(t){return Zt(this,Io),new xo(co(t))})[Eo]=xo[Eo],Ho=_o(xo),zo=0;Ho.length>zo;)(Ko=Ho[zo++])in Io||T(Io,Ko,xo[Ko]);Qo.constructor=Io}wr&&dr(ko)!==Ro&&wr(ko,Ro);var Wo=new To(new Io(2)),qo=ko.setInt8;Wo.setInt8(0,2147483648),Wo.setInt8(1,2147483649),!Wo.getInt8(0)&&Wo.getInt8(1)||Ut(ko,{setInt8:function(t,e){qo.call(this,t,e<<24>>24)},setUint8:function(t,e){qo.call(this,t,e<<24>>24)}},{unsafe:!0})}else Io=function(t){Zt(this,Io,So);var e=co(t);Co(this,{bytes:mo.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},To=function(t,e,n){Zt(this,To,Ao),Zt(t,Io,Ao);var r=bo(t).byteLength,o=ut(e);if(o<0||o>r)throw Po("Wrong offset");if(o+(n=void 0===n?r-o:lt(n))>r)throw Po("Wrong length");Co(this,{buffer:t,byteLength:n,byteOffset:o}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},i&&(Go(Io,"byteLength"),Go(To,"buffer"),Go(To,"byteLength"),Go(To,"byteOffset")),Ut(To[Eo],{getInt8:function(t){return Vo(this,1,t)[0]<<24>>24},getUint8:function(t){return Vo(this,1,t)[0]},getInt16:function(t){var e=Vo(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Vo(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return No(Vo(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return No(Vo(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return Uo(Vo(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return Uo(Vo(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Bo(this,1,t,Lo,e)},setUint8:function(t,e){Bo(this,1,t,Lo,e)},setInt16:function(t,e){Bo(this,2,t,Mo,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Bo(this,2,t,Mo,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Bo(this,4,t,Do,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Bo(this,4,t,Do,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Bo(this,4,t,Fo,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Bo(this,8,t,$o,e,arguments.length>2?arguments[2]:void 0)}});qt(Io,So),qt(To,Ao);var Yo={ArrayBuffer:Io,DataView:To},Jo=function(t,e){var n=function(t){var e=ut(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(n%e)throw RangeError("Wrong offset");return n},Xo=oo.aTypedArrayConstructor,Zo=function(t){var e,n,r,o,i,s,a=cr(t),u=arguments.length,c=u>1?arguments[1]:void 0,l=void 0!==c,f=fe(a);if(null!=f&&!re(f))for(s=(i=f.call(a)).next,a=[];!(o=s.call(i)).done;)a.push(o.value);for(l&&u>2&&(c=oe(c,arguments[2],2)),n=lt(a.length),r=new(Xo(this))(n),e=0;n>e;e++)r[e]=l?c(a[e],e):a[e];return r},ti=Array.isArray||function(t){return"Array"==f(t)},ei=Ht("species"),ni=function(t,e){var n;return ti(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!ti(n.prototype)?v(n)&&null===(n=n[ei])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},ri=[].push,oi=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,s=7==t,a=5==t||i;return function(u,c,l,f){for(var h,p,g=cr(u),v=d(g),y=oe(c,l,3),m=lt(v.length),_=0,w=f||ni,b=e?w(u,m):n||s?w(u,0):void 0;m>_;_++)if((a||_ in v)&&(p=y(h=v[_],_,g),t))if(e)b[_]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return _;case 2:ri.call(b,h)}else switch(t){case 4:return!1;case 7:ri.call(b,h)}return i?-1:r||o?o:b}},ii={forEach:oi(0),map:oi(1),filter:oi(2),some:oi(3),every:oi(4),find:oi(5),findIndex:oi(6),filterOut:oi(7)},si=function(t,e,n){var r,o;return wr&&"function"==typeof(r=e.constructor)&&r!==n&&v(o=r.prototype)&&o!==n.prototype&&wr(t,o),t},ai=e((function(t){var e=wt.f,n=ii.forEach,o=et.get,s=et.set,a=I.f,u=E.f,l=Math.round,f=r.RangeError,h=Yo.ArrayBuffer,d=Yo.DataView,p=oo.NATIVE_ARRAY_BUFFER_VIEWS,g=oo.TYPED_ARRAY_TAG,m=oo.TypedArray,w=oo.TypedArrayPrototype,b=oo.aTypedArrayConstructor,C=oo.isTypedArray,S="BYTES_PER_ELEMENT",A="Wrong length",O=function(t,e){for(var n=0,r=e.length,o=new(b(t))(r);r>n;)o[n]=e[n++];return o},x=function(t,e){a(t,e,{get:function(){return o(this)[e]}})},k=function(t){var e;return t instanceof h||"ArrayBuffer"==(e=ce(t))||"SharedArrayBuffer"==e},R=function(t,e){return C(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},P=function(t,e){return R(t,e=y(e,!0))?c(2,t[e]):u(t,e)},j=function(t,e,n){return!(R(t,e=y(e,!0))&&v(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?a(t,e,n):(t[e]=n.value,t)};i?(p||(E.f=P,I.f=j,x(w,"buffer"),x(w,"byteOffset"),x(w,"byteLength"),x(w,"length")),Pt({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:P,defineProperty:j}),t.exports=function(t,i,u){var c=t.match(/\d+$/)[0]/8,y=t+(u?"Clamped":"")+"Array",_="get"+t,b="set"+t,E=r[y],x=E,I=x&&x.prototype,R={},P=function(t,e){a(t,e,{get:function(){return function(t,e){var n=o(t);return n.view[_](e*c+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var r=o(t);u&&(n=(n=l(n))<0?0:n>255?255:255&n),r.view[b](e*c+r.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};p?uo&&(x=i((function(t,e,n,r){return Zt(t,x,y),si(v(e)?k(e)?void 0!==r?new E(e,Jo(n,c),r):void 0!==n?new E(e,Jo(n,c)):new E(e):C(e)?O(x,e):Zo.call(x,e):new E(co(e)),t,x)})),wr&&wr(x,m),n(e(E),(function(t){t in x||T(x,t,E[t])})),x.prototype=I):(x=i((function(t,e,n,r){Zt(t,x,y);var o,i,a,u=0,l=0;if(v(e)){if(!k(e))return C(e)?O(x,e):Zo.call(x,e);o=e,l=Jo(n,c);var p=e.byteLength;if(void 0===r){if(p%c)throw f(A);if((i=p-l)<0)throw f(A)}else if((i=lt(r)*c)+l>p)throw f(A);a=i/c}else a=co(e),o=new h(i=a*c);for(s(t,{buffer:o,byteOffset:l,byteLength:i,length:a,view:new d(o)});u<a;)P(t,u++)})),wr&&wr(x,m),I=x.prototype=Yn(w)),I.constructor!==x&&T(I,"constructor",x),g&&T(I,g,y),R[y]=x,Pt({global:!0,forced:x!=E,sham:!p},R),S in x||T(x,S,c),S in I||T(I,S,c),Jt(y)}):t.exports=function(){}}));ai("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}));var ui=oo.aTypedArray;(0,oo.exportTypedArrayMethod)("fill",(function(t){return mo.apply(ui(this),arguments)}));var ci=oo.aTypedArray;(0,oo.exportTypedArrayMethod)("set",(function(t){ci(this);var e=Jo(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=cr(t),o=lt(r.length),i=0;if(o+e>n)throw RangeError("Wrong length");for(;i<o;)this[e+i]=r[i++]}),o((function(){new Int8Array(1).set({})})));var li=oo.aTypedArray,fi=[].sort;(0,oo.exportTypedArrayMethod)("sort",(function(t){return fi.call(li(this),t)}));var hi=function(t,e){var n=[][t];return!!n&&o((function(){n.call(null,e||function(){throw 1},1)}))},di=[],pi=di.sort,gi=o((function(){di.sort(void 0)})),vi=o((function(){di.sort(null)})),yi=hi("sort");Pt({target:"Array",proto:!0,forced:gi||!vi||!yi},{sort:function(t){return void 0===t?pi.call(cr(this)):pi.call(cr(this),Xt(t))}});var mi=function(){var t=O(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function _i(t,e){return RegExp(t,e)}var wi={UNSUPPORTED_Y:o((function(){var t=_i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:o((function(){var t=_i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},bi=RegExp.prototype.exec,Ci=$("native-string-replace",String.prototype.replace),Si=bi,Ai=function(){var t=/a/,e=/b*/g;return bi.call(t,"a"),bi.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),Ei=wi.UNSUPPORTED_Y||wi.BROKEN_CARET,Oi=void 0!==/()??/.exec("")[1];(Ai||Oi||Ei)&&(Si=function(t){var e,n,r,o,i=this,s=Ei&&i.sticky,a=mi.call(i),u=i.source,c=0,l=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),l=String(t).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),n=new RegExp("^(?:"+u+")",a)),Oi&&(n=new RegExp("^"+u+"$(?!\\s)",a)),Ai&&(e=i.lastIndex),r=bi.call(s?n:i,l),s?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:Ai&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),Oi&&r&&r.length>1&&Ci.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var xi=Si;Pt({target:"RegExp",proto:!0,forced:/./.exec!==xi},{exec:xi}),Pt({global:!0},{globalThis:r});var Ii=Ht("species"),Ti=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),ki="$0"==="a".replace(/./,"$0"),Ri=Ht("replace"),Pi=!!/./[Ri]&&""===/./[Ri]("a","$0"),ji=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Ui=function(t){return function(e,n){var r,o,i=String(p(e)),s=ut(n),a=i.length;return s<0||s>=a?t?"":void 0:(r=i.charCodeAt(s))<55296||r>56319||s+1===a||(o=i.charCodeAt(s+1))<56320||o>57343?t?i.charAt(s):r:t?i.slice(s,s+2):o-56320+(r-55296<<10)+65536}},Li={codeAt:Ui(!1),charAt:Ui(!0)}.charAt,Mi=function(t,e,n){return e+(n?Li(t,e).length:1)},Di=Math.floor,Ni="".replace,Fi=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,$i=/\$([$&'`]|\d{1,2})/g,Gi=function(t,e,n,r,o,i){var s=n+t.length,a=r.length,u=$i;return void 0!==o&&(o=cr(o),u=Fi),Ni.call(i,u,(function(i,u){var c;switch(u.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(s);case"<":c=o[u.slice(1,-1)];break;default:var l=+u;if(0===l)return i;if(l>a){var f=Di(l/10);return 0===f?i:f<=a?void 0===r[f-1]?u.charAt(1):r[f-1]+u.charAt(1):i}c=r[l-1]}return void 0===c?"":c}))},Vi=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==f(t))throw TypeError("RegExp#exec called on incompatible receiver");return xi.call(t,e)},Bi=Math.max,Ki=Math.min;!function(t,e,n,r){var i=Ht(t),s=!o((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=s&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Ii]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!s||!a||"replace"===t&&(!Ti||!ki||Pi)||"split"===t&&!ji){var u=/./[i],c=n(i,""[t],(function(t,e,n,r,o){return e.exec===xi?s&&!o?{done:!0,value:u.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:ki,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Pi}),l=c[0],f=c[1];nt(String.prototype,t,l),nt(RegExp.prototype,i,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}r&&T(RegExp.prototype[i],"sham",!0)}("replace",2,(function(t,e,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,s=o?"$":"$0";return[function(n,r){var o=p(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!o&&i||"string"==typeof r&&-1===r.indexOf(s)){var a=n(e,t,this,r);if(a.done)return a.value}var u=O(t),c=String(this),l="function"==typeof r;l||(r=String(r));var f=u.global;if(f){var h=u.unicode;u.lastIndex=0}for(var d=[];;){var p=Vi(u,c);if(null===p)break;if(d.push(p),!f)break;""===String(p[0])&&(u.lastIndex=Mi(c,lt(u.lastIndex),h))}for(var g,v="",y=0,m=0;m<d.length;m++){p=d[m];for(var _=String(p[0]),w=Bi(Ki(ut(p.index),c.length),0),b=[],C=1;C<p.length;C++)b.push(void 0===(g=p[C])?g:String(g));var S=p.groups;if(l){var A=[_].concat(b,w,c);void 0!==S&&A.push(S);var E=String(r.apply(void 0,A))}else E=Gi(_,c,w,b,S,r);w>=y&&(v+=c.slice(y,w)+E,y=w+_.length)}return v+c.slice(y)}]}));var Qi=I.f,Hi=r.Symbol;if(i&&"function"==typeof Hi&&(!("description"in Hi.prototype)||void 0!==Hi().description)){var zi={},Wi=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Wi?new Hi(t):void 0===t?Hi():Hi(t);return""===t&&(zi[e]=!0),e};St(Wi,Hi);var qi=Wi.prototype=Hi.prototype;qi.constructor=Wi;var Yi=qi.toString,Ji="Symbol(test)"==String(Hi("test")),Xi=/^Symbol\((.*)\)[^)]+$/;Qi(qi,"description",{configurable:!0,get:function(){var t=v(this)?this.valueOf():this,e=Yi.call(t);if(_(zi,t))return"";var n=Ji?e.slice(7,-1):e.replace(Xi,"$1");return""===n?void 0:n}}),Pt({global:!0,forced:!0},{Symbol:Wi})}function Zi(){}Promise.resolve();const ts=[];function es(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zi;const r=new Set;function o(n){if(i=n,((o=t)!=o?i==i:o!==i||o&&"object"==typeof o||"function"==typeof o)&&(t=n,e)){const e=!ts.length;for(const e of r)e[1](),ts.push(e,t);if(e){for(let t=0;t<ts.length;t+=2)ts[t][0](ts[t+1]);ts.length=0}}var o,i}return{set:o,update:function(e){o(e(t))},subscribe:function(i){const s=[i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zi];return r.add(s),1===r.size&&(e=n(o)||Zi),i(t),()=>{r.delete(s),0===r.size&&(e(),e=null)}}}}const ns=/\.mini-mail\.ru$/.test(window.location.host),rs=/\.devmail\.ru$/.test(window.location.host),os="devmail.ru",is=ns?"mini-mail.ru":"mail.ru",ss=rs?os:is;var as,us,cs,ls,fs,hs,ds;!function(t){t.BUILD="2.138.3",t.MODERN_BROWSERS_REGEXP=/(Edge\/(79(?:\.0)?|79(?:\.([1-9]|\d{2,}))?|([8-9]\d|\d{3,})(?:\.\d+)?|83(?:\.0)?|83(?:\.([1-9]|\d{2,}))?|(8[4-9]|9\d|\d{3,})(?:\.\d+)?))|((Chromium|Chrome)\/(61\.0|61\.([1-9]|\d{2,})|(6[2-9]|[7-9]\d|\d{3,})\.\d+|83\.0|83\.([1-9]|\d{2,})|(8[4-9]|9\d|\d{3,})\.\d+)(?:\.\d+)?)|(Version\/(13\.0|13\.([1-9]|\d{2,})|(1[4-9]|[2-9]\d|\d{3,})\.\d+|14\.0|14\.([1-9]|\d{2,})|(1[5-9]|[2-9]\d|\d{3,})\.\d+|15\.0|15\.([1-9]|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})\.\d+|16\.0|16\.([1-9]|\d{2,})|(1[7-9]|[2-9]\d|\d{3,})\.\d+)(?:\.\d+)? Safari\/)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)\.\d+)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)(pre|[ab]\d+[a-z]*)?)/}(as||(as={})),function(t){t.AccountDataUpdate="accountDataUpdate",t.UpdateCounterMail="updateCounterMail",t.UpdateCounterLove="updateCounterLove",t.UpdateCounterGames="updateCounterGames",t.UpdateCounterOK="updateCounterOK",t.UpdateCounterVK="updateCounterVK",t.UpdateCounterMoyMir="updateCounterMoyMir",t.UpdateCounterCloudStories="updateCounterCloudStories",t.UpdateQuotaCounters="updateQuotaCounters"}(us||(us={})),function(t){t.Mount="mount",t.VisibilityChange="visibilitychange",t.AuthChange="authChange",t.AuthLost="authLost",t.BeforeLogout="beforeLogout",t.Update="update",t.LoginRequest="loginRequest",t.RegisterRequest="registerRequest",t.ColorThemeChange="colorThemeChange",t.ThemeChange="themeChange",t.InvalidServerSideAuth="invalidServerSideAuth",t.LangChange="langChange",t.SearchExtend="searchExtend",t.SearchCollapse="searchCollapse",t.SearchBoxMount="searchBoxMount",t.ToggleSlidotype="toggleSlidotype",t.AllProjectsMenuOpen="allProjectsMenuOpen",t.AllProjectsMenuClose="allProjectsMenuClose"}(cs||(cs={})),function(t){t.Show="show",t.Hide="hide"}(ls||(ls={})),function(t){t.Show="show",t.Hide="hide"}(fs||(fs={})),function(t){t.Show="show",t.Hide="hide",t.Load="load",t.Focus="focus"}(hs||(hs={})),function(t){t.Show="show",t.Hide="hide"}(ds||(ds={}));const ps=window.__PH;es(function(t){if(ps&&t in ps)return ps[t]}("xray")||{send:()=>{}},(()=>{})).subscribe;const gs=t=>{var e,n;const r=ir(t.omicronConfig,"cloudStoriesCounterEnabled")||(null===(e=t.experiments)||void 0===e?void 0:e.switchCloudStoriesCounter),o=ir(t.omicronConfig,"cloudStoriesCounterCrossNavEnabled")||(null===(n=t.experiments)||void 0===n?void 0:n.switchCloudStoriesCounterCrossNav);return t.isCrossNav?o:r},vs=()=>{};class ys{constructor(){this._events=new Map,this._oneTimeEvents=new Map}getListenersNumber(t){return[...this._events.get(t)||[],...this._oneTimeEvents.get(t)||[]].length}on(t,e){const n=[...this._events.get(t)||[],e];return this._events.set(t,n),this}removeListener(t,e){const n=(this._events.get(t)||[]).filter((t=>t!==e));return this._events.set(t,n),this}once(t,e){const n=[...this._oneTimeEvents.get(t)||[],e];return this._oneTimeEvents.set(t,n),this}emit(t,e,n){const r=e||vs;(this._events.get(t)||[]).forEach((t=>t({data:n},r)));return(this._oneTimeEvents.get(t)||[]).forEach((t=>t({data:n},r))),this._oneTimeEvents.delete(t),this}static relay(t,e,n){t.forEach((t=>{e.on(t,(()=>{n.emit(t)}))}))}}class ms extends ys{constructor(){super(),this._eventsData=new Map}on(t,e){return super.on(t,e),this._executeListenerIfHasData(t,e),this}removeListener(t,e){return super.removeListener(t,e),this.getListenersNumber(t)||this._eventsData.delete(t),this}emit(t,e,n){return super.emit(t,e,n),this._eventsData.set(t,n),this}_executeListenerIfHasData(t,e){const n=this._eventsData.get(t);n&&e({data:n},vs)}}var _s=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.createElement("script"),r=document.querySelector("head");function o(){r.appendChild(n)}return e&&(n.defer=!0,n.async=!0),n.src=t,"opera"in window&&"complete"!==document.readyState?window.addEventListener("DOMContentLoaded",o):o(),n},ws=[],bs={maxSize:500,getLog:function(){return Array.prototype.slice.call(ws,0)},clear:function(){ws=[]}};var Cs={log:function(){try{(console.debug||console.log).apply(console,arguments)}catch(t){}},error:function(){try{console.error.apply(console,arguments)}catch(t){}},warn:function(){try{console.warn.apply(console,arguments)}catch(t){}}};function Ss(t){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(t)}function As(t){return t&&"object"===Ss(t)&&!Es(t)}function Es(t){return"[object Array]"===Object.prototype.toString.call(t)}function Os(){for(var t={},e=0;e<arguments.length;++e){var n=arguments[e];for(var r in n)t[r]&&As(t[r])&&As(n[r])?t[r]=Os(t[r],n[r]):t[r]=n[r]}return t}var xs=["p","email","split","utm","r","pgid","o_ss","o_v"],Is=!1;function Ts(){this._batchesByUrls={},this._timeoutId=null,this._config={maxBatchSize:6e4,maxChunkSize:4e3,timeout:1e3,idle:!1},"undefined"!=typeof window&&window.addEventListener("beforeunload",this.process.bind(this,!0))}function ks(t){return"s".concat(t,"s").replace(/s+/g,"s").replace(/^s$/g,"")}function Rs(t){for(var e in t)void 0!==t[e]&&null!==t[e]||delete t[e];return t}function Ps(t,e){for(var n=-1,r=0;r<t.length;r++)if(e===t[r]){n=r;break}return n}Ts.prototype.setConfig=function(t){if(!Is)return t.timeout=Math.max(1e3,t.timeout||0),this._config=Os(this._config,t),void(Is=!0);var e=[];for(var n in t)n in this._config?e.push(n):this._config[n]=t[n];e.length&&Cs.warn("Queue config field(s) "+e.join(", ")+" are already set and can't be modified")},Ts.prototype.getConfig=function(){return Os(this._config,{})},Ts.prototype.push=function(t,e){!function(t){for(ws.push(t);ws.length>bs.maxSize;)ws.shift()}(e);var n=t+"/batch?"+Ts._buildQueryString(e);e=Ts._stringifyParams(e);var r=JSON.stringify(e);if(r.length+2>this._config.maxBatchSize)Cs.error("Radar #"+e.uid+" body is too long: "+r);else{this._batchesByUrls[n]||(this._batchesByUrls[n]=[[]]);var o,i=this._batchesByUrls[n];for(o=0;o<i.length;++o){var s=i[o];if(JSON.stringify(s.concat([e])).length<=this._config.maxBatchSize){s.push(e);break}}o===i.length&&i.push([e]),this._timeoutId||"function"!=typeof setTimeout||(this._timeoutId=setTimeout(this.process.bind(this),this._config.timeout))}},Ts.prototype.process=function(t){for(var e in clearTimeout(this._timeoutId),this._timeoutId=null,this._batchesByUrls){for(var n=this._batchesByUrls[e],r=0;r<n.length;++r)this._send(e,n[r],t);delete this._batchesByUrls[e]}},Ts.prototype.isIdle=function(){return this._config.idle},Ts._buildQueryString=function(t){for(var e=[],n=0;n<xs.length;++n){var r=xs[n],o="string"==typeof t[r]?t[r]:JSON.stringify(t[r]);delete t[r],void 0!==o&&o.length&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}var i=[];for(var s in t.baseQuery)i.push(s);i=i.sort();for(var a=0;a<i.length;++a){var u=i[a];e.push(encodeURIComponent(u)+"="+encodeURIComponent(t.baseQuery[u]))}return delete t.baseQuery,e.join("&")},Ts.prototype._send=function(t,e,n){var r={url:t,data:"batch="+encodeURIComponent(JSON.stringify(e)),type:"POST",async:!0};if(!this._config.idle)if(n&&window.navigator.sendBeacon)window.navigator.sendBeacon(r.url,r.data);else{var o=new XMLHttpRequest;"function"==typeof this._config.beforeSend&&!this._config.beforeSend(o,r)?o.abort():(o.open(r.type,r.url,r.async),o.withCredentials=!0,o.send(r.data))}},Ts._stringifyParams=function(t){var e={};for(var n in t)"i"!==n?e[n]="string"==typeof t[n]?t[n]:JSON.stringify(t[n]):e.i=Ts._stringifyI(t.i);return e},Ts._stringifyI=function(t){var e=[];for(var n in t){var r=t[n];e.push(n+":"+r)}return e.join(",")};var js=0,Us=["radarPrefix","split","r","pgid","utm","o_ss","o_v"],Ls=!1,Ms=new Ts,Ds="xray_rlog_dot_error",Ns="xray_rlog_msg_abs",Fs="xray_too_long",$s="xray_not_configured",Gs="xray_send_dwh-with-skipdwh";function Vs(){this._config={xrayRadarUrl:"https://xray.mail.ru",pgid:(Date.now()+Math.random()).toString(36),radarPrefix:"",r:"undefined"!=typeof document&&document.referrer||"",defaultParams:{p:"mail",t_feature:"",v:1,skipdwh:!1}}}Vs.prototype.logger=bs,Vs.prototype.setConfig=function(t,e){if((t=t||{}).split&&(t.split=ks(t.split)),Ls)for(var n=0;n<Us.length;++n)delete t[Us[n]];Ls=!0,t.defaultParams&&t.defaultParams.i&&(t.defaultParams.i=this._formatIntervals(t.defaultParams.i),delete this._config.defaultParams.i),this._config=e?t:Os(this._config,t),t.gaTrackingId&&this._initGA(t.gaTrackingId)},Vs.prototype.addSplit=function(t){this._config.split=ks("".concat(this._config.split||"","s").concat(t))},Vs.prototype.getConfig=function(){return Os(this._config,{})},Vs.prototype.getTotalSended=function(){return js},Vs.prototype.setQueueConfig=Ts.prototype.setConfig.bind(Ms),Vs.prototype.getQueueConfig=Ts.prototype.getConfig.bind(Ms),Vs.prototype.getInstanceCopy=function(){var t=new Vs;return Ls=!1,t.setConfig(this._config,!0),t},Vs.prototype.send=function(t,e,n){this._send(t,e,n,!0)},Vs.prototype._send=function(t,e,n,r){if(r&&!Ls&&t!==$s){var o=e||{};o.t=t,this._logOwnError(o,$s),Cs.warn("Your xray instance is not configured")}if(e=Os(e||{},{}),this._config.middlewares)for(var i=0;i<this._config.middlewares.length;i++){var s=(0,this._config.middlewares[i])(t,e,n);t=s.t,e=s.params,n=s.ga}t=Es(t)?t.join("_"):t,e.i&&(e.i=this._formatIntervals(e.i)),e=Os(this._config.defaultParams,e,{t:t,split:this._config.split,r:this._config.r,pgid:this._config.pgid,utm:this._config.utm,o_ss:this._config.o_ss,o_v:this._config.o_v,baseQuery:this._config.baseQuery,uid:js++}),r&&e.skipdwh&&e.dwh&&this._logOwnError(e,Gs);for(var a=[e.t_feature,this._config.radarPrefix],u=0;u<a.length;++u)a[u]&&(e.t=a[u]+"_"+e.t);delete e.t_feature;try{e=this._validateParams(e,r)}catch(t){return Cs.log("xray",e.uid,e),void Cs.error(t.message)}if(this._config.verbose&&Cs.log("xray",e.uid,e.t,e,n?"GA: "+!!n:void 0),Ms.push(this._config.xrayRadarUrl,e),!0!==n||this._config.gaTrackingId){var c="string"==typeof n?n:this._config.gaTrackingId;if(n&&c&&!Ms.isIdle()){if(e.i){for(var l in e.i)this._sendGA(t+"_"+l,e.i[l],c);return}this._sendGA(t,e.v,c)}}else Cs.error("Radar #"+e.uid+": no GA tracking id specified")},Vs.prototype.sendImmediately=function(t,e,n){this.send(t,e,n),Ms.process()},Vs.prototype.addMiddleware=function(t){this._config.middlewares||(this._config.middlewares=[]),-1===Ps(this._config.middlewares,t)&&this._config.middlewares.push(t)},Vs.prototype.removeMiddleware=function(t){if(this._config.middlewares){var e=Ps(this._config.middlewares,t);e>-1&&this._config.middlewares.splice(e,1)}},Vs.prototype._sendGA=function(t,e,n){"function"!=typeof gtag&&this._initGA(n);var r=t.split(/_/g),o=r[1]||r[0],i=r[1]?r[0]:"",s=r.slice(2).join("_"),a={value:e,send_to:n};i&&(a.event_category=i),s&&(a.event_label=s),gtag("event",o,a)},Vs.prototype._initGA=function(t){if(!window.gtag){var e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id="+t,e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},gtag("js",new Date)}gtag("config",t,{send_page_view:!1})},Vs.prototype._logOwnError=function(t,e,n){var r="xray_err",o=r,i=t.p;if(i){if(i.length+8+1>32){i=i.slice(0,23)}o="".concat(i,"_").concat(r)}var s=t.t;s.length>64&&(s=s.slice(0,64)),this._send(e,{skipdwh:!0,rlog:o,rlog_message:{t:s,err:e,value:n}},!1,!1)},Vs.prototype._validateParams=function(t,e){(t=Rs(t)).rlog&&-1!==t.rlog.indexOf(".")&&(e&&this._logOwnError(t,Ds,t.rlog),Cs.error("Radar #".concat(t.uid,": rlog can not contain file extension")),delete t.rlog,delete t.rlog_message),t.rlog&&t.rlog_message||(t.rlog_message&&(e&&this._logOwnError(t,Ns),Cs.error("Radar #".concat(t.uid,": rlog_message would not be sent without rlog"))),delete t.rlog,delete t.rlog_message);var n={32:[t.p,t.rlog],64:[t.p+"_"+t.t]};for(var r in t.i)n[32].push(r),n[64].push(t.p+"_"+t.t+"_"+r);for(var o in n)for(var i=n[o],s=0;s<i.length;++s)if(i[s]&&i[s].length>o)throw e&&this._logOwnError(t,Fs,i[s].slice(0,o)),new Error("Radar #".concat(t.uid,": value is too long: ").concat(n[o][s])+" (len: ".concat(i[s].length,", limit: ").concat(o,")"));return t},Vs.prototype._formatIntervals=function(t){if(As(t))return t;var e={};if(Es(t)){for(var n=0;n<t.length;++n){var r=t[n].split(":");e[r[0]]=+r[1]||this._config.defaultParams.v}return e}if("string"==typeof t){var o=t.split(",");return this._formatIntervals(o)}};var Bs,Ks,Qs,Hs,zs,Ws=new Vs;function qs(t,e){for(var n=t.split("&"),r=n[0],o={},i=1;i<n.length;++i){var s=n[i].split("="),a=decodeURIComponent(s[0]),u=decodeURIComponent(s[1]);try{u=JSON.parse(u)}catch(t){}o[a]=u}(e=e||{}).immediately?Ws.sendImmediately(r,o,e.ga):Ws.send(r,o,e.ga)}qs.setConfig=function(t){Ws.setConfig(Rs({verbose:t.verbose,pgid:t.pgid,split:t.split,xrayRadarUrl:t.xrayRadarUrl||t.XRAY_RADAR_URL,radarPrefix:t.radarPrefix||t.RadarPrefix,utm:t.utm,o_ss:t.o_ss,o_v:t.o_v,baseQuery:t.baseQuery,gaTrackingId:t.gaTrackingId||t.GA_TRACKING_ID,defaultParams:t.defaultParams||Rs({p:t.project,email:t.ActiveEmail})})),Ws.setQueueConfig(Rs({maxBatchSize:t.MAX_BATCH_SIZE,maxChunkSize:t.MAX_CHUNK_SIZE,beforeSend:t.beforeSend,timeout:t.timeout,idle:t.idle}))},qs.getConfig=Vs.prototype.getConfig.bind(Ws),qs.addSplit=Vs.prototype.addSplit.bind(Ws),qs.setQueueConfig=Vs.prototype.setQueueConfig.bind(Ws),qs.getQueueConfig=Vs.prototype.getQueueConfig.bind(Ws),qs.getTotalSended=Vs.prototype.getTotalSended.bind(Ws),qs.send=Vs.prototype.send.bind(Ws),qs.sendImmediately=Vs.prototype.sendImmediately.bind(Ws),qs.getInstanceCopy=Vs.prototype.getInstanceCopy.bind(Ws),qs.addMiddleware=Vs.prototype.addMiddleware.bind(Ws),qs.removeMiddleware=Vs.prototype.removeMiddleware.bind(Ws),function(t){t[t.auto=42]="auto",t[t.cloud=182]="cloud",t[t.deti=129]="deti",t[t.dobro=190]="dobro",t[t.health=145]="health",t[t.hitech=123]="hitech",t[t.home=169]="home",t[t.games=133]="games",t[t.go=76]="go",t[t.kino=30]="kino",t[t.lady=104]="lady",t[t.moymir=120]="moymir",t[t.moymirgameclub=501]="moymirgameclub",t[t.news=29]="news",t[t.octavius=105]="octavius",t[t.ok=163]="ok",t[t.pets=466]="pets",t[t.pulse=485]="pulse",t[t.realty=122]="realty",t[t.vkmail=509]="vkmail",t[t.weather=112]="weather",t[t.youla=460]="youla"}(Bs||(Bs={})),function(t){t.friends="friends",t.messages="messages",t.photos="photos",t.groups="groups",t.notifications="notifications"}(Ks||(Ks={})),function(t){t.markCnt="markCnt",t.messageCnt="messageCnt",t.notificationCnt="notificationCnt",t.messages="messages",t.friends="friends",t.presents="presents"}(Qs||(Qs={})),function(t){t.additional="additional",t.business="business",t.mailrugroup="mailrugroup",t.general="general"}(Hs||(Hs={})),function(t){t[t.promo=256]="promo",t[t.pointer=8]="pointer"}(zs||(zs={}));const Ys=(t,e)=>{!rs&&qs.send(t,e)};class Js{constructor(t){this._emitter=new ys,this._instantEmitter=new ms,this._instantEvents=t||[]}getListenersNumber(t){return this._getApiMethod(t,"getListenersNumber")(t)}on(t,e){return this._getApiMethod(t,"on")(t,e),this}removeListener(t,e){return this._getApiMethod(t,"removeListener")(t,e),this}once(t,e){return this._getApiMethod(t,"once")(t,e),this}emit(t,e,n){return this._getApiMethod(t,"emit")(t,e,n),this}_getApiMethod(t,e){return this._instantEvents.includes(t)?this._instantEmitter[e].bind(this._instantEmitter):this._emitter[e].bind(this._emitter)}}class Xs extends Js{constructor(t){let{extendedSettings:e,isDebug:n,siteId:r,isModern:o,experimentId:i,omicron_ShortSegments:s,omicron_Version:a,email:u}=t;super([cs.InvalidServerSideAuth,cs.ColorThemeChange,cs.ThemeChange,cs.SearchBoxMount]),this.xray=(t=>{let{isDebug:e,experimentId:n,siteId:r,isLiteVersion:o=!1,omicron_ShortSegments:i,omicron_Version:s,email:a}=t;return qs.setConfig({verbose:e,split:n||"",defaultParams:{p:"whiteline"+(o?"-lite":""),email:a,i:o?r:Bs[r]||"unknown"+(r?`_${r}`:""),skipdwh:!0},o_ss:i,o_v:s}),qs})({isDebug:n,experimentId:i,siteId:r,omicron_ShortSegments:s,omicron_Version:a,email:u}),Ys("load_inline"),Ys(o?"is-modern":"is-legacy"),Ys(`load_inline_${as.BUILD}`),(null==e?void 0:e.hasExternal)&&_s(e.bundleUrl,!0)}}var Zs=Ht("match"),ta=I.f,ea=wt.f,na=et.set,ra=Ht("match"),oa=r.RegExp,ia=oa.prototype,sa=/a/g,aa=/a/g,ua=new oa(sa)!==sa,ca=wi.UNSUPPORTED_Y;if(i&&kt("RegExp",!ua||ca||o((function(){return aa[ra]=!1,oa(sa)!=sa||oa(aa)==aa||"/a/i"!=oa(sa,"i")})))){for(var la=function(t,e){var n,r,o,i=this instanceof la,s=v(n=t)&&(void 0!==(r=n[Zs])?!!r:"RegExp"==f(n)),a=void 0===e;if(!i&&s&&t.constructor===la&&a)return t;ua?s&&!a&&(t=t.source):t instanceof la&&(a&&(e=mi.call(t)),t=t.source),ca&&(o=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var u=si(ua?new oa(t,e):oa(t,e),i?this:ia,la);return ca&&o&&na(u,{sticky:o}),u},fa=function(t){t in la||ta(la,t,{configurable:!0,get:function(){return oa[t]},set:function(e){oa[t]=e}})},ha=ea(oa),da=0;ha.length>da;)fa(ha[da++]);ia.constructor=la,la.prototype=ia,nt(r,"RegExp",la)}Jt("RegExp");const pa="s",ga=`${pa}_`,va=t=>!(t===pa||t.startsWith(ga)||"ph"===t);function ya(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,o,i]=e;if(void 0!==o){let t="",e=i||{};null===o?e=Object.assign(Object.assign({},e),{expires:-1}):t=o.toString();const n=va(r)?encodeURIComponent(t):t,s=()=>{if(e.expires&&"number"==typeof e.expires){return`; expires=${new Date(Date.now()+e.expires*or).toUTCString()}`}return""},a=e.path?`; path=${e.path}`:"",u=e.domain?`; domain=${e.domain}`:"",c=e.samesite?`; SameSite=${e.samesite}`:"",l=e.secure?"; secure":"";return document.cookie=`${r}=${n}${s()}${a}${u}${c}${l}`,t}if(document.cookie){let t=(document.cookie.match(new RegExp(`(?:^|; ?)${r}\\=(\\S*?)(?:; ?|$)`))||[])[1];if(va(r)&&t)try{t=decodeURIComponent(t)}catch(t){}return t}}var ma=function(){if(function(t,e,n){if(!/Version\/.* Safari\//.test(t)||/Chrom(e|ium)/.test(t))return!1;var r=t.match(/\(Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*\) AppleWebKit\//);return r&&r[1]===String(e)&&r[2]===String(n)}(navigator.userAgent,10,14)||function(t,e){var n=t.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//);return n&&n[1]===String(e)}(navigator.userAgent,12))return"";var t,e;return document.cookie="_s_test=1;path=/;SameSite=None;Secure",t="_s_test",((e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0)?(document.cookie="_s_test=1;path=/;max-age=-1;SameSite=None;Secure",";SameSite=None;Secure"):""};function _a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,o,i,s]=e;const a=new RegExp(`(^|\\|)(${i}=)(.*?)(\\||$)`),u=Object.assign({domain:o,expires:365,path:"/"},";SameSite=None;Secure"===ma()&&{samesite:"None",secure:!0});let c,l;if(i){if(c=ya(r)||"",l=(c.match(a)||[])[3],void 0!==s){let t=null,e="";if(void 0!==l||null===s){let n;n=null===s?(t,e,n,r,o,i,s)=>0===i?"":o:`$1$2${s}$4`,t=c.replace(a,n),e=t}else c&&(e=`${c}|`),e=`${e+i}=${s}`;ya(r,""===t?null:e,u)}else s=l;return s}}const wa={__domain:`.${ss}`,__prefix:null,_S_cookie_set_get_remove:_a,_getPrefix(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={prefix:t.prefix||wa.__prefix,domain:t.domain||wa.__domain};if(!e.prefix||!e.domain)throw new Error("run setProject before");return e},_throw_noValue_Error(){throw new Error("need value")},getGlobal:t=>_a("s",wa.__domain,t),setGlobal:(t,e)=>(void 0===e&&wa._throw_noValue_Error(),_a(pa,wa.__domain,t,e),wa.getGlobal(t)),removeGlobal(t){const e=wa.getGlobal(t);return _a(pa,wa.__domain,t,null),e},setProject(t,e){if(!t||!e)throw new Error("project is not valid");e.startsWith(".")||(e=`.${e}`),wa.__prefix=t,rs&&(e=e.replace(/.[a-z0-9\-]*.[a-z0-9]*$/,`.${os}`)),wa.__domain=e},getLocal(t,e){const n=wa._getPrefix(e);return _a(`${ga}${n.prefix}`,n.domain,t)},setLocal(t,e,n){const r=wa._getPrefix(n);return void 0===e&&wa._throw_noValue_Error(),_a(`${ga}${r.prefix}`,r.domain,t,e),wa.getLocal(t,r)},removeLocal(t,e){const n=wa._getPrefix(e),r=wa.getLocal(t,n);return _a(`${ga}${n.prefix}`,n.domain,t,null),r}};function ba(){return window.devicePixelRatio}class Ca{constructor(){this._invocations=[],this._fn=null,this._context=null}getQuery(){const t=this._invoke.bind(this);return t.replaceImpl=this.replaceImpl.bind(this),t}_invoke(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._fn?this._fn.apply(this._context,e):this._invocations.push(e)}replaceImpl(t,e){if(this._fn)return;const n=e||window;this._invocations.forEach((e=>{t.apply(n,e)})),delete this._invocations,this._fn=t,this._context=n}}let Sa=!1;class Aa extends ys{constructor(t){if(super(),this.show=(new Ca).getQuery(),this.hide=(new Ca).getQuery(),this.insert=(new Ca).getQuery(),t.authGate){const e={allow_external:t.enableExtDomains,vk:t.social.vk?1:null,ok:t.social.ok?1:null,fb:t.social.fb?1:null,mobile_redirect:!!t.authGateMobileRedirect,app_id_mytracker:t.appIdMytracker};t.authGateSuccessRedirectUrl&&(e.success_redirect=t.authGateSuccessRedirectUrl),t.siteId&&Bs[t.siteId]&&(e.project=Bs[t.siteId]),t.enableLoginByPhone&&(e.supports_ph_acc=1),window.__AG_onload=()=>{const t=window.__AG;t&&(t.setSettings(e),this.show.replaceImpl(function(t,e){return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:"navi"};if(function(t){return t.insert&&Sa}(t))!function(t,e,n){if(t.focus){const r=n&&"string"==typeof n?n:"login";t.focus(r,(()=>{e.emit(hs.Focus)}))}}(t,e,n.focus);else{if(n){const{preview:t}=function(t){const e=new URLSearchParams(t),n={};return e.forEach(((t,e)=>{n[e]=t})),n}(window.location.search);if(t&&(n.preview=t),!n.type)switch(n.formType){case"login":n.type="login";break;case"relogin":n.type="choice"}!n.success_redirect&&n.successPage&&(n.success_redirect=n.successPage);const e={dwh:{source:n.source},skipdwh:!1};Ys("open_auth_form",e)}t.show(n)}}}(t,this)),this.hide.replaceImpl(function(t){return()=>{Sa||t.hide()}}(t)),this.insert.replaceImpl(function(t){return(e,n)=>{t.insert&&(Sa=!0,t.insert(e,n))}}(t)),this.isVisible=()=>t.isVisible(),ys.relay([hs.Show,hs.Hide,hs.Load],t,this))},_s(function(t,e){const n=new URL(t);return n.searchParams?(Object.entries(e).forEach((t=>{let[e,r]=t;n.searchParams.set(e,r)})),n.toString()):t}(t.authGateVersion||"https://img.imgsmail.ru/ag/2.8.3/authGate.js",{onload:"__AG_onload"}))}}isVisible(){return!1}}class Ea extends ys{constructor(){super(...arguments),this.show=(new Ca).getQuery(),this.hide=(new Ca).getQuery()}}class Oa extends ys{constructor(){super(...arguments),this.show=(new Ca).getQuery(),this.hide=(new Ca).getQuery()}}class xa extends ys{constructor(){super(...arguments),this.show=(new Ca).getQuery(),this.hide=(new Ca).getQuery()}}var Ia=function(t){return function(e,n,r,o){Xt(n);var i=cr(e),s=d(i),a=lt(i.length),u=t?a-1:0,c=t?-1:1;if(r<2)for(;;){if(u in s){o=s[u],u+=c;break}if(u+=c,t?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?u>=0:a>u;u+=c)u in s&&(o=n(o,s[u],u,i));return o}},Ta={left:Ia(!1),right:Ia(!0)},ka=Ta.left,Ra=hi("reduce");Pt({target:"Array",proto:!0,forced:!Ra||!Lt&&$t>79&&$t<83},{reduce:function(t){return ka(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Pa=function(){return Pa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Pa.apply(this,arguments)},ja=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Ua=function(t,e,n){if(void 0===n&&(n=!1),!t||!e||"object"!=typeof t||"object"!=typeof e)return t;var r=Pa({},t);for(var o in e)e.hasOwnProperty(o)&&(e[o]instanceof Array&&t[o]instanceof Array?r[o]=n?ja(t[o],e[o]):e[o]:"object"==typeof e[o]&&"object"==typeof t[o]?r[o]=Ua(t[o],e[o],n):r[o]=e[o]);return r},La=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Ma={defaults:{},errorType:null,polyfills:{fetch:null,FormData:null,URLSearchParams:null,performance:null,PerformanceObserver:null,AbortController:null},polyfill:function(t,e){for(var n=void 0===e?{}:e,r=n.doThrow,o=void 0===r||r,i=n.instance,s=void 0!==i&&i,a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];var c=this.polyfills[t]||("undefined"!=typeof self?self[t]:null)||("undefined"!=typeof global?global[t]:null);if(o&&!c)throw new Error(t+" is not defined");return s&&c?new(c.bind.apply(c,La([void 0],a))):c}},Da=function(t,e,n,r){if(!t.getEntriesByName)return!1;var o=t.getEntriesByName(e);return!!(o&&o.length>0)&&(n(o.reverse()[0]),r.clearMeasures&&r.clearMeasures(e),Na.callbacks.delete(e),Na.callbacks.size<1&&(Na.observer.disconnect(),r.clearResourceTimings&&r.clearResourceTimings()),!0)},Na={callbacks:new Map,observer:null,observe:function(t,e){if(t&&e){var n=Ma.polyfill("performance",{doThrow:!1});(function(t,e){return!Na.observer&&t&&e&&(Na.observer=new e((function(e){Na.callbacks.forEach((function(n,r){Da(e,r,n,t)}))})),t.clearResourceTimings&&t.clearResourceTimings()),Na.observer})(n,Ma.polyfill("PerformanceObserver",{doThrow:!1}))&&(Da(n,t,e,n)||(Na.callbacks.size<1&&Na.observer.observe({entryTypes:["resource","measure"]}),Na.callbacks.set(t,e)))}}},Fa=Ta.right,$a=hi("reduceRight");Pt({target:"Array",proto:!0,forced:!$a||!Lt&&$t>79&&$t<83},{reduceRight:function(t){return Fa(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Ga=function(t){this.error=t},Va=function(){return Va=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Va.apply(this,arguments)},Ba=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Ka="application/json",Qa="Content-Type",Ha=function(){function t(t,e,n,r,o,i){void 0===n&&(n=new Map),void 0===r&&(r=[]),void 0===o&&(o=[]),void 0===i&&(i=[]),this._url=t,this._options=e,this._catchers=n,this._resolvers=r,this._middlewares=o,this._deferredChain=i}return t.factory=function(e,n){return void 0===e&&(e=""),void 0===n&&(n={}),new t(e,n)},t.prototype.selfFactory=function(e){var n=void 0===e?{}:e,r=n.url,o=void 0===r?this._url:r,i=n.options,s=void 0===i?this._options:i,a=n.catchers,u=void 0===a?this._catchers:a,c=n.resolvers,l=void 0===c?this._resolvers:c,f=n.middlewares,h=void 0===f?this._middlewares:f,d=n.deferredChain,p=void 0===d?this._deferredChain:d;return new t(o,Va({},s),new Map(u),Ba(l),Ba(h),Ba(p))},t.prototype.defaults=function(t,e){return void 0===e&&(e=!1),Ma.defaults=e?Ua(Ma.defaults,t):t,this},t.prototype.errorType=function(t){return Ma.errorType=t,this},t.prototype.polyfills=function(t){return Ma.polyfills=Va(Va({},Ma.polyfills),t),this},t.prototype.url=function(t,e){if(void 0===e&&(e=!1),e)return this.selfFactory({url:t});var n=this._url.split("?");return this.selfFactory({url:n.length>1?n[0]+t+"?"+n[1]:this._url+t})},t.prototype.options=function(t,e){return void 0===e&&(e=!0),this.selfFactory({options:e?Ua(this._options,t):t})},t.prototype.query=function(t,e){return void 0===e&&(e=!1),this.selfFactory({url:za(this._url,t,e)})},t.prototype.headers=function(t){return this.selfFactory({options:Ua(this._options,{headers:t||{}})})},t.prototype.accept=function(t){return this.headers({Accept:t})},t.prototype.content=function(t){var e;return this.headers(((e={})[Qa]=t,e))},t.prototype.auth=function(t){return this.headers({Authorization:t})},t.prototype.catcher=function(t,e){var n=new Map(this._catchers);return n.set(t,e),this.selfFactory({catchers:n})},t.prototype.signal=function(t){return this.selfFactory({options:Va(Va({},this._options),{signal:t.signal})})},t.prototype.resolve=function(t,e){return void 0===e&&(e=!1),this.selfFactory({resolvers:e?[t]:Ba(this._resolvers,[t])})},t.prototype.defer=function(t,e){return void 0===e&&(e=!1),this.selfFactory({deferredChain:e?[t]:Ba(this._deferredChain,[t])})},t.prototype.middlewares=function(t,e){return void 0===e&&(e=!1),this.selfFactory({middlewares:e?t:Ba(this._middlewares,t)})},t.prototype.method=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null);var r=this._options.headers,o=n?"object"!=typeof n||r&&!Object.entries(r).every((function(t){var e=t[0],n=t[1];return e.toLowerCase()!==Qa.toLowerCase()||n.startsWith(Ka)}))?this.body(n):this.json(n):this;return function(t){var e=t._url,n=t._catchers,r=t._resolvers,o=t._middlewares,i=t._options,s=new Map(n),a=Ua(Ma.defaults,i),u=Ma.polyfill("AbortController",{doThrow:!1,instance:!0});!a.signal&&u&&(a.signal=u.signal);var c={ref:null,clear:function(){c.ref&&(clearTimeout(c.ref),c.ref=null)}},l=function(t){return function(e){return 0===t.length?e:1===t.length?t[0](e):t.reduceRight((function(n,r,o){return o===t.length-2?r(n(e)):r(n)}))}}(o)(Ma.polyfill("fetch"))(e,a),f=l.catch((function(t){throw new Ga(t)})).then((function(t){return c.clear(),t.ok?t:t[Ma.errorType||"text"]().then((function(e){var n=new Error(e);throw n[Ma.errorType||"text"]=e,n.status=t.status,n.response=t,n}))})),h=function(e){return e.catch((function(e){c.clear();var n=e instanceof Ga?e.error:e;if(e instanceof Ga&&s.has("__fromFetch"))return s.get("__fromFetch")(n,t);if(s.has(n.status))return s.get(n.status)(n,t);if(s.has(n.name))return s.get(n.name)(n,t);throw n}))},d=function(t){return function(e){return h(t?f.then((function(e){return e&&e[t]()})).then((function(t){return e?e(t):t})):f.then((function(t){return e?e(t):t})))}},p={res:d(null),json:d("json"),blob:d("blob"),formData:d("formData"),arrayBuffer:d("arrayBuffer"),text:d("text"),perfs:function(t){return l.then((function(e){return Na.observe(e.url,t)})),p},setTimeout:function(t,e){return void 0===e&&(e=u),c.clear(),c.ref=setTimeout((function(){return e.abort()}),t),p},controller:function(){return[u,p]},error:function(t,e){return s.set(t,e),p},badRequest:function(t){return p.error(400,t)},unauthorized:function(t){return p.error(401,t)},forbidden:function(t){return p.error(403,t)},notFound:function(t){return p.error(404,t)},timeout:function(t){return p.error(408,t)},internalError:function(t){return p.error(500,t)},fetchError:function(t){return p.error("__fromFetch",t)},onAbort:function(t){return p.error("AbortError",t)}};return r.reduce((function(e,n){return n(e,t)}),p)}((o=o.options(Va(Va({},e),{method:t})))._deferredChain.reduce((function(t,e){return e(t,t._url,t._options)}),o))},t.prototype.get=function(t){return this.method("GET",t)},t.prototype.delete=function(t){return this.method("DELETE",t)},t.prototype.put=function(t,e){return this.method("PUT",e,t)},t.prototype.post=function(t,e){return this.method("POST",e,t)},t.prototype.patch=function(t,e){return this.method("PATCH",e,t)},t.prototype.head=function(t){return this.method("HEAD",t)},t.prototype.opts=function(t){return this.method("OPTIONS",t)},t.prototype.replay=function(t){return this.method(this._options.method,t)},t.prototype.body=function(t){return this.selfFactory({options:Va(Va({},this._options),{body:t})})},t.prototype.json=function(t){var e,n=null===(e=Object.entries(this._options.headers||{}).find((function(t){var e=t[0],n=t[1];return e.toLowerCase()===Qa.toLowerCase()&&n.startsWith(Ka)})))||void 0===e?void 0:e[1];return this.content(n||Ka).body(JSON.stringify(t))},t.prototype.formData=function(t,e){return void 0===e&&(e=!1),this.body(Wa(t,e))},t.prototype.formUrl=function(t){return this.body("string"==typeof t?t:(e=t,Object.keys(e).map((function(t){var n=e[t];return n instanceof Array?n.map((function(e){return qa(t,e)})).join("&"):qa(t,n)})).join("&"))).content("application/x-www-form-urlencoded");var e},t}(),za=function(t,e,n){var r;if("string"==typeof e)r=e;else{var o=Ma.polyfill("URLSearchParams",{instance:!0});for(var i in e)if(e[i]instanceof Array)for(var s=0,a=e[i];s<a.length;s++){var u=a[s];o.append(i,u)}else o.append(i,e[i]);r=o.toString()}var c=t.split("?");return n||c.length<2?c[0]+"?"+r:t+"&"+r};function Wa(t,e,n,r){return void 0===e&&(e=!1),void 0===n&&(n=Ma.polyfill("FormData",{instance:!0})),void 0===r&&(r=[]),Object.entries(t).forEach((function(t){var o=t[0],i=t[1],s=r.reduce((function(t,e){return t?t+"["+e+"]":e}),null);if(s=s?s+"["+o+"]":o,i instanceof Array)for(var a=0,u=i;a<u.length;a++){var c=u[a];n.append(s+"[]",c)}else!e||"object"!=typeof i||e instanceof Array&&e.includes(o)?n.append(s,i):null!==i&&Wa(i,e,n,Ba(r,[o]))})),n}function qa(t,e){return encodeURIComponent(t)+"="+encodeURIComponent("object"==typeof e?JSON.stringify(e):""+e)}var Ya=Ha.factory;Ya.default=Ha.factory;class Ja{constructor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.url=t,this.isCors=e}get options(){return this.isCors?{credentials:"include",mode:"cors"}:{mode:"no-cors"}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ya().options(this.options).url(this.url+e).query(t).query({_:Math.round((new Date).getTime()+1e9*Math.random())}).get().fetchError(((t,e)=>{const n=`${t.message} in request to ${e._url}`;throw new Error(n)}))}getJson(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.get(t,e).json()}post(t){return Ya(this.url).options(Object.assign(Object.assign({},this.options),{method:"post"})).formUrl(t).post()}}const Xa=rs?"//portal.devmail.ru":`//portal.${ss}`,Za=rs?"//auth.devmail.ru":`//auth.${ss}`,tu=`//ok.ru/mapi?query=${encodeURIComponent('{"cmd":"getCounters"}')}`;var eu;!function(t){t.OK="ok",t.NOAUTH="noauth",t.ERROR="error"}(eu||(eu={}));const nu={mac:1,Socials:1};var ru,ou=new class extends Ja{constructor(){super(Xa)}getInfo(t,e,n){let r=Object.assign(Object.assign(Object.assign({},nu),{gamescnt:1}),e);return rs&&(r=Object.assign(Object.assign({},r),{ldata:1})),t&&(r=Object.assign(Object.assign({},r),{Login:t})),n&&(r=Object.assign(Object.assign({},r),{ldata:1,target:1})),this.getJson(r,"/NaviData")}getListInfo(t,e,n){let r=Object.assign(Object.assign(Object.assign({},nu),{ldata:1}),e);return t&&(r=Object.assign(Object.assign({},r),{Login:t})),n&&(r=Object.assign(Object.assign({},r),{target:1})),this.getJson(r,"/NaviData")}getDomains(t){return this.getJson(t,"/Domains")}};!function(t){t.OK="ok",t.NOAUTH="noauth",t.MRIM="mrim"}(ru||(ru={}));class iu extends Ja{auth(t){const e={mac:1,Login:t};return this.getJson(e,"/cgi-bin/auth")}logout(t){const e={Login:t,mac:1};return this.getJson(e,"/cgi-bin/logout")}}class su{static convert(t){let{status:e,data:n}=t;var r,o,i;const s=(null===(r=n)||void 0===r?void 0:r.ldata)||{};return{status:e,accounts:(null===(i=null===(o=n)||void 0===o?void 0:o.list)||void 0===i?void 0:i.map((t=>({email:t,active:n.email===t,firstName:s[t].first_name||"",lastName:s[t].last_name||"",socialId:su.getSocialId(t),verified:!!s[t].verified,counters:{mail:s[t].mail_cnt}}))))||[]}}static getSocialId(t){const e=t.match(/^[0-9]+@(vk|ok|fb)$/);return e&&e[1]}}const au="s_c";function uu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let e=0;e<t.length;e+=1){const n=t[e].split("@")[1];if(["corp.mail.ru","vk.team"].includes(n))return wa.setGlobal(au,Date.now()),!0}const e=wa.getGlobal(au);if(e&&Date.now()>1*+e+or)return wa.removeGlobal(au),!1}var cu=new class extends Ja{constructor(){super(tu)}};class lu{constructor(t,e,n){let{eventType:r,counterKeys:o}=t;this.eventType=r,this.counterKeys=o,this.updateAccountCounter=e,this.eventEmitter=n}get value(){return this._value}updateValue(t){this._value=t}updateData(t){this.eventEmitter.emit(this.eventType,null,this.parseSocialData(t));const e=this.summarizeCounters(this.parseSocialData(t),this.counterKeys);this.value!==e&&this.updateValue(e)}summarizeCounters(t,e){return Object.entries(t).reduce(((t,n)=>{let[r,o]=n;return t+(e[r]?o:0)}),0)}parseSocialData(t){return Object.entries(t).reduce(((t,e)=>{let[n,r]=e;return t[n]=["number","string"].includes(typeof r)?r:r.count,t}),{})}getDataFromApi(){}}class fu extends lu{constructor(t,e){super({eventType:us.UpdateCounterOK,counterKeys:Qs},t,e)}getDataFromApi(){cu.getJson().then((t=>{"no auth"===t.status?this.updateAccountCounter({ok:{}}):this.updateAccountCounter({ok:t.data||{}}),Ys("ok_counter_success"),Ys("social_counters_ok_success_api")})).catch((()=>{Ys("ok_counter_error"),Ys("social_counters_ok_error_api")}))}}var hu=new class extends Ja{constructor(){super("//vk.com/feed2.php")}};class du extends lu{constructor(t,e){super({eventType:us.UpdateCounterVK,counterKeys:Ks},t,e)}getDataFromApi(){hu.getJson({act:"widget",utm_source:"mrg_ph"}).then((t=>{var e;-1!==(null===(e=t.user)||void 0===e?void 0:e.id)?this.updateAccountCounter({vk:t||{}}):this.updateAccountCounter({vk:{}}),Ys("vk_counter_success"),Ys("social_counters_vk_success_api")})).catch((()=>{Ys("vk_counter_error"),Ys("social_counters_vk_error_api")}))}}let pu=!1;const gu=(t,e)=>t&&e?`${t} ${e}`:t||e;class vu{constructor(t){let{ph:e,eventEmitter:n,activeUser:r,authUrl:o=Za,socialCountersSettings:i,stayInAccountList:s,isShowCloudStoriesCounter:a,addTargetToNaviData:u}=t;this.gamesCount=0,this.mailCount=0,this.moymirCount=0,this.loveCount=0,this.cloudCount=0,this.quotaCounters={mail:{},cloud:{}},this.restAccountsMailCount=0,this.accounts=[],this.ph=e,this.eventEmitter=n,this.activeUser=r||void 0,this.parentActiveUser=r||void 0,this.authApi=new iu(function(t){const e="mail.ru"===window.location.host,n=/\.mail\.ru$/.test(window.location.host);return e||n?Za:t}(o)),this.socialCountersSettings=i,this.okCounter=new fu(this.updateSomeCounters.bind(this),n),this.vkCounter=new du(this.updateSomeCounters.bind(this),n),this.isShowCloudStoriesCounter=a,this.stayInAccountList=s,this.loadAccountsList(null,this.getSocialsParams(),u),this.socialCountersSettings.isShowOkCounter&&Ys("social_counters_hit_ok"),this.socialCountersSettings.isShowVKCounter&&Ys("social_counters_hit_vk")}getSocialsParams(){const t={};return this.socialCountersSettings.isShowVKCounter&&this.socialCountersSettings.isVKConnectForVKCounter&&(t.vk_connect=1),this.socialCountersSettings.isShowOkCounter&&this.socialCountersSettings.isServerApiForOKCounter&&(t.ok_counters=1),t}getCloudCounterParams(){const t={};return this.isShowCloudStoriesCounter&&(t.cstories=1),t}getCountersQueryParams(){const t=this.getSocialsParams(),e=this.getCloudCounterParams();return Object.assign(Object.assign({},t),e)}handleSocialCounters(t,e){let{vk_counters:n=null,ok_counters:r=null}=t;var o,i;n&&Object.values(n).length?(Ys("vk_counter_success"),Ys("social_counters_vk_server")):e&&(null===(o=this.socialCountersSettings)||void 0===o?void 0:o.isShowVKCounter)&&(this.vkCounter.getDataFromApi(),n&&Ys("social_counters_vk_repeat")),r&&Object.values(r).length?(Ys("ok_counter_success"),Ys("social_counters_ok_server")):e&&(null===(i=this.socialCountersSettings)||void 0===i?void 0:i.isShowOkCounter)&&(this.socialCountersSettings.isServerApiForOKCounter?this.socialCountersSettings.isClientApiAfterServerApiForOKCounter?this.okCounter.getDataFromApi():this.updateSomeCounters({ok:{}}):this.okCounter.getDataFromApi())}handleSocialCountersErrors(){var t,e;(null===(t=this.socialCountersSettings)||void 0===t?void 0:t.isShowVKCounter)&&(Ys("vk_counter_error"),Ys("social_counters_vk_error_server")),(null===(e=this.socialCountersSettings)||void 0===e?void 0:e.isShowOkCounter)&&(Ys("ok_counter_error"),Ys("social_counters_ok_error_server"))}loadAccountInfo(t,e,n){return ou.getInfo(t,e,n).then((t=>{var n;Ys("load_account_info_success"),t.status===eu.OK?(this.handleUpdateAccount(t.data),this.handleSocialCounters(t.data,e),uu(null===(n=t.data)||void 0===n?void 0:n.list)):t.status===eu.NOAUTH&&this.handleClearAccount()})).catch((()=>{Ys("load_account_info_error"),this.handleSocialCountersErrors()}))}loadAccountsList(t,e,n){let r={};return ou.getListInfo(this.activeUser,e,n).then((t=>{var n;Ys("load_accounts_list_success"),t.status===eu.OK?(this.handleUpdateAccount(t.data),this.handleSocialCounters(t.data,e),uu(null===(n=t.data)||void 0===n?void 0:n.list)):t.status===eu.NOAUTH&&this.handleClearAccount(),r=t,pu||(pu=!0)})).catch((()=>{Ys("load_accounts_list_error"),this.handleSocialCountersErrors(),r={status:eu.ERROR,data:{}}})).finally((()=>{t&&t(su.convert(r))}))}logoutAccount(t,e){return this.authApi.logout(t).then((t=>{Ys("logout_account_success"),t.status===eu.OK&&this.loadAccountsList(e)})).catch((()=>{Ys("logout_account_error")}))}switchAccountWithReload(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t?this.authApi.auth(t).then((o=>{let{status:i,data:s,location:a}=o;switch(Ys("switch_account_success"),i){case ru.OK:this.activeUserFullName=gu(s.first_name,s.last_name),e?this.loadAccountsList(null,n):this.loadAccountInfo(s.email,n,r);break;case ru.MRIM:return(null===window||void 0===window?void 0:window.location)&&a&&(window.location.href=a),!1;case ru.NOAUTH:if(s.list.includes(t))return this.handleExpiredAccount(t),!1;s.email&&s.list.length?this.stayInAccountList?this.loadAccountInfo(s.email,n):this.loadAccountsList(null,n):s.list.length||this.handleClearAccount()}return!0})).catch((()=>(Ys("switch_account_error"),!0))):Promise.resolve(!0)}updateSomeCounters(t){"mail"in t&&this.updateCounterMail(+t.mail),"love"in t&&this.updateCounterLove(+t.love),"games"in t&&this.updateCounterGames(+t.games),"moymir"in t&&this.updateCounterMoyMir(+t.moymir),"ok"in t&&this.okCounter.updateData(t.ok),"vk"in t&&this.vkCounter.updateData(t.vk),"cloud-with-utm"in t&&this.updateCounterCloudStories(t["cloud-with-utm"]),this.emitAccountDataUpdate()}emitAccountDataUpdate(){this.eventEmitter.emit(us.AccountDataUpdate,null,{activeUser:this.activeUser,activeUserFullName:this.activeUserFullName,parentActiveUser:this.parentActiveUser,gamesCount:this.gamesCount,mailCount:this.mailCount,moymirCount:this.moymirCount,okCount:this.okCounter.value,vkCount:this.vkCounter.value,loveCount:this.loveCount,cloudCount:this.cloudCount,restAccountsMailCount:this.restAccountsMailCount,accounts:this.accounts,quotaCounters:this.quotaCounters})}updateCounterMail(t){"number"==typeof t&&this.mailCount!==t&&(this.eventEmitter.emit(us.UpdateCounterMail,null,{count:t}),this.mailCount=t)}updateCounterLove(t){"number"==typeof t&&this.loveCount!==t&&(this.eventEmitter.emit(us.UpdateCounterLove,null,{count:t}),this.loveCount=t)}updateCounterGames(t){"number"==typeof t&&this.gamesCount!==t&&(this.eventEmitter.emit(us.UpdateCounterGames,null,{count:t}),this.gamesCount=t)}updateCounterMoyMir(t){"number"==typeof t&&this.moymirCount!==t&&(this.eventEmitter.emit(us.UpdateCounterMoyMir,null,{count:t}),this.moymirCount=t)}updateCounterCloudStories(t){const e=this.isShowCloudStoriesCounter?t:0;Number.isInteger(e)&&this.cloudCount!==e&&(this.eventEmitter.emit(us.UpdateCounterCloudStories,null,{count:e}),this.cloudCount=e)}updateQuotaCounters(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{mail:n={},cloud:r={}}=this.quotaCounters,{used_cnt:o}=n,{used_cnt:i,total_cnt:s}=r;let a=n,u=r,c=!1;o!==(null==t?void 0:t.used_cnt)&&(a=t,c=!0),i===(null==e?void 0:e.used_cnt)&&s===(null==e?void 0:e.total_cnt)||(u=e,c=!0),c&&(this.eventEmitter.emit(us.UpdateQuotaCounters,null,{mail:a,cloud:u}),this.quotaCounters={mail:a,cloud:u})}handleAuthChange(t,e){const n=yu(t),r=()=>({email:n,list:t?t.list:[]});if(this.ph.getListenersNumber(cs.AuthChange)&&pu&&this.activeUser!==n)return(new Image).src=`//r3.${is}/k?auth=1&rnd=${Math.random()}`,void this.ph.emit(cs.AuthChange,e,r());pu||!this.activeUser||n||this.ph.emit(cs.InvalidServerSideAuth,null,r()),e()}handleUpdateAccount(t){this.handleAuthChange(t,(()=>{this.updateAccount(t)}))}updateAccount(t){if(this.parentActiveUser=t.email,this.activeUser=yu(t),this.restAccountsMailCount=t.mail_notifier?+t.mail_notifier:0,t.ldata){const e=function(t){const e=[];return t.list.forEach((n=>{const r=t.ldata[n].children;let o;r&&(o={},Object.entries(r).forEach((t=>{let[n,r]=t;e.push({user:n,firstName:r.first_name,lastName:r.last_name,mailCounter:r.mail_cnt,verified:!1,child:!0}),o[n]={firstName:r.first_name,lastName:r.last_name,mailCounter:r.mail_cnt,isActive:r.active}})));const i=t.ldata[n];e.push({user:n,firstName:i.first_name,lastName:i.last_name,mailCounter:i.mail_cnt,verified:i.verified,child:i.child,children:o})})),[...e.reduce(((t,e)=>(t.set(e.user,e),t)),new Map).values()]}(t);this.accounts=e;const n=e.find((t=>t.user===this.activeUser)),r=n.firstName?n.firstName:"",o=n.lastName?n.lastName:"";this.activeUserFullName=gu(r,o)}this.updateCounterMail(+t.mail_cnt),this.updateCounterMoyMir(+t.my_cnt),this.updateCounterGames(+t.games_cnt),this.updateCounterCloudStories(+t.cloud_stories_cnt),this.updateQuotaCounters(null==t?void 0:t.mail_quota_counters,null==t?void 0:t.cloud_quota_counters),t.ok_counters&&Object.values(t.ok_counters).length&&this.okCounter.updateData(t.ok_counters),t.vk_counters&&Object.values(t.vk_counters).length&&this.vkCounter.updateData(t.vk_counters),this.emitAccountDataUpdate()}handleClearAccount(){this.ph.getListenersNumber(cs.AuthLost)&&this.activeUser?this.ph.emit(cs.AuthLost,this.clearAccount,{}):this.handleAuthChange("",this.clearAccount.bind(this))}handleExpiredAccount(t){this.ph.authForm.show({type:"choice",email:t,from:"navi"})}clearAccount(){this.activeUser="",this.activeUserFullName="",this.parentActiveUser="",this.updateCounterMail(0),this.updateCounterLove(0),this.updateCounterGames(0),this.updateCounterMoyMir(0),this.updateCounterCloudStories(0),this.updateQuotaCounters({},{}),this.okCounter.updateData({}),this.vkCounter.updateData({}),this.restAccountsMailCount=0,this.accounts=[],this.emitAccountDataUpdate()}}function yu(t){return t?t.active_email||t.email:""}class mu{constructor(t,e){this._ph=t,this._options=e,document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this))}onVisibilityChange(){const t="hidden"!==document.visibilityState,{socialCountersSettings:{isShowOkCounter:e,isShowVKCounter:n,updateSocialCountersOnVisibilityChange:r},isShowCloudStoriesCounter:o,isHideRightPart:i}=this._options,s=r?this._ph.getSocialsParams():null,a=o?this._ph.getCloudCounterParams():null;if(this._ph.emit(cs.VisibilityChange,null,{visible:t}),t){const t=this._ph.activeUser();t&&!i?(this._ph.switchAccount(t,!1,!1,Object.assign(Object.assign({},s),a)),s&&e&&Ys("social_counters_visibility_change_ok"),s&&n&&Ys("social_counters_visibility_change_vk"),a&&o&&Ys("cloud_counter_visibility_change")):this._ph.loadAccountInfo()}}}let _u,wu;window.__PH=new class extends Xs{constructor(t){wu=t,wu||(console.warn("ERROR (PublicPH): no initial settings data"),wu={siteId:"",siteZone:"",experimentId:"",isWhiteline:!0,isDebug:"",activeEmail:"",maxAccounts:"20",counters:{},experiments:{},colorTheme:er.Default,social:{vk:!1,ok:!1,fb:!1},lang:rr}),super({extendedSettings:t._,isDebug:!!wu.isDebug,siteId:wu.siteId,isModern:wu.isModern,experimentId:wu.experimentId,omicron_ShortSegments:wu.omicron_ShortSegments,omicron_Version:wu.omicron_Version,email:wu.activeEmail}),this.authForm=new Aa(wu),this.authMenu=new Ea,this.settingsMenu=new xa,this.marusiaMenu=new Oa,this.cookie=Object.assign(ya,{s:wa,fieldCookie:_a}),ba()>1?(wa.setGlobal("rt",1),wa.setGlobal("dpr",ba())):(wa.removeGlobal("rt"),wa.removeGlobal("dpr"));const e=new ms;_u=new vu({ph:this,eventEmitter:e,activeUser:wu.activeEmail,authUrl:wu.authUrl,socialCountersSettings:{isShowVKCounter:wu.isShowVKCounter,isVKConnectForVKCounter:wu.isVKConnectForVKCounter,isShowOkCounter:wu.isShowOkCounter,isServerApiForOKCounter:wu.isServerApiForOKCounter,isClientApiAfterServerApiForOKCounter:wu.isClientApiAfterServerApiForOKCounter,socialCountersTimer:wu.socialCountersTimer,updateSocialCountersOnVisibilityChange:wu.updateSocialCountersOnVisibilityChange},stayInAccountList:wu.stayInAccountListOnVisibilityChange,isShowCloudStoriesCounter:gs(wu),addTargetToNaviData:wu.addTargetToNaviData}),this.accountService={onAccountDataUpdate:t=>e.on(us.AccountDataUpdate,t),on:(t,n)=>e.on(t,n),removeListener:(t,n)=>e.removeListener(t,n)},new mu(this,{socialCountersSettings:_u.socialCountersSettings,isShowCloudStoriesCounter:_u.isShowCloudStoriesCounter,isHideRightPart:wu.isHideRightPart})}getSocialsParams(){return _u.getSocialsParams()}getCloudCounterParams(){return _u.getCloudCounterParams()}getCountersQueryParams(){return _u.getCountersQueryParams()}getSearchPlaceholder(){return new Promise((t=>{this.on(cs.SearchBoxMount,(e=>{t(e.data)}))}))}loadAccountInfo(t,e){return _u.loadAccountInfo(t,e)}loadAccountsList(t,e){return _u.loadAccountsList(t,e)}switchAccount(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return _u.switchAccountWithReload(t,e,r,o).then((t=>{t&&n&&!this.getListenersNumber(cs.AuthChange)&&window.location.reload()}))}logoutAccount(t,e){return _u.logoutAccount(t,e)}activeUser(){return _u.activeUser}isMultiAuth(){return!!wu.authGate}isAuthFormEnabled(){return!!wu.authGate}isMarusiaMenuEnabled(){const t=this.activeUser(),e=wu.lang===rr;return!(!(wu.isOnMarusia&&e&&t)||/(@vk|@ok|@fb)$/.test(t))}updateCounter(t){_u.updateSomeCounters(t)}setColorTheme(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er.Default;this.emit(cs.ColorThemeChange,null,{colorTheme:Object.values(er).includes(t)?t:er.Default})}}(window.__PHS),Object.freeze(window.__PH)}();
